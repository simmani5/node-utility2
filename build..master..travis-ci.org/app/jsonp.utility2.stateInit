window.utility2.stateInit({"utility2":{"assetsDict":{"/assets.example.html":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<!-- \"assets.utility2.template.html\" -->\n<title>utility2 (0.0.1)</title>\n<style>\n/* jslint utility2:true */\n/*csslint\n*/\n/* csslint ignore:start */\n*,\n*:after,\n*:before {\n    box-sizing: border-box;\n}\n/* csslint ignore:end */\n@keyframes uiAnimateShake {\n0%,\n50% {\n    transform: translateX(10px);\n}\n100% {\n    transform: translateX(0);\n}\n25%,\n75% {\n    transform: translateX(-10px);\n}\n}\n@keyframes uiAnimateSpin {\n0% {\n    transform: rotate(0deg);\n}\n100% {\n    transform: rotate(360deg);\n}\n}\na {\n    overflow-wrap: break-word;\n}\nbody {\n    background: #eef;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: small;\n    margin: 0 40px;\n}\nbody > div,\nbody > form > div,\nbody > form > input,\nbody > form > pre,\nbody > form > .button,\nbody > form > .textarea,\nbody > input,\nbody > pre,\nbody > .button,\nbody > .textarea {\n    margin-bottom: 20px;\n    margin-top: 0;\n}\nbody > form > input,\nbody > form > .button,\nbody > input,\nbody > .button {\n    width: 20rem;\n}\nbody > form > .textarea,\nbody > .textarea {\n    height: 10rem;\n    width: 100%;\n}\nbody > .readonly {\n    background: #ddd;\n}\ncode,\npre,\n.textarea {\n    font-family: Consolas, Menlo, monospace;\n    font-size: smaller;\n}\npre {\n    overflow-wrap: break-word;\n    white-space: pre-wrap;\n}\n.button {\n    background-color: #fff;\n    border: 1px solid;\n    border-bottom-color: rgb(186, 186, 186);\n    border-left-color: rgb(209, 209, 209);\n    border-radius: 4px;\n    border-right-color: rgb(209, 209, 209);\n    border-top-color: rgb(216, 216, 216);\n    color: #00d;\n    cursor: pointer;\n    display: inline-block;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: normal;\n    margin: 0;\n    padding: 2px 7px 3px 7px;\n    text-align: center;\n    text-decoration: underline;\n}\n.colorError {\n    color: #d00;\n}\n.textarea {\n    background: #fff;\n    border: 1px solid #999;\n    border-radius: 0;\n    cursor: auto;\n    overflow: auto;\n    padding: 2px;\n}\n.uiAnimateShake {\n    animation-duration: 500ms;\n    animation-name: uiAnimateShake;\n}\n.uiAnimateSlide {\n    overflow-y: hidden;\n    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\n}\n.utility2FooterDiv {\n    text-align: center;\n}\n.zeroPixel {\n    border: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n    width: 0;\n}\n</style>\n</head>\n<body>\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;\"></div>\n<div class=\"uiAnimateSpin\" style=\"animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;\"></div>\n<a class=\"zeroPixel\" download=\"db.persistence.json\" href=\"\" id=\"dbExportA1\"></a>\n<input class=\"zeroPixel\" data-onevent=\"onEventDomDb\" data-onevent-db=\"dbImportInput\" type=\"file\">\n<script>\n/* jslint utility2:true */\n// init domOnEventWindowOnloadTimeElapsed\n(function () {\n/*\n * this function will measure and print time-elapsed for window.onload\n */\n    \"use strict\";\n    if (window.domOnEventWindowOnloadTimeElapsed) {\n        return;\n    }\n    window.domOnEventWindowOnloadTimeElapsed = Date.now() + 100;\n    window.addEventListener(\"load\", function () {\n        setTimeout(function () {\n            window.domOnEventWindowOnloadTimeElapsed = (\n                Date.now()\n                - window.domOnEventWindowOnloadTimeElapsed\n            );\n            console.error(\n                \"domOnEventWindowOnloadTimeElapsed = \"\n                + window.domOnEventWindowOnloadTimeElapsed\n            );\n        }, 100);\n    });\n}());\n\n\n\n// init domOnEventDelegateDict\n(function () {\n/*\n * this function will handle delegated dom-event\n */\n    \"use strict\";\n    var timerTimeoutDict;\n    if (window.domOnEventDelegateDict) {\n        return;\n    }\n    window.domOnEventDelegateDict = {};\n    timerTimeoutDict = {};\n    window.domOnEventDelegateDict.domOnEventDelegate = function (evt) {\n        evt.targetOnEvent = evt.target.closest(\n            \"[data-onevent]\"\n        );\n        if (\n            !evt.targetOnEvent\n            || evt.targetOnEvent.dataset.onevent === \"domOnEventNop\"\n            || evt.target.closest(\n                \".disabled, .readonly\"\n            )\n        ) {\n            return;\n        }\n        // rate-limit high-frequency-event\n        switch (evt.type) {\n        case \"keydown\":\n        case \"keyup\":\n            // filter non-input keyboard-event\n            if (!evt.target.closest(\n                \"input, option, select, textarea\"\n            )) {\n                return;\n            }\n            if (timerTimeoutDict[evt.type] !== true) {\n                timerTimeoutDict[evt.type] = timerTimeoutDict[\n                    evt.type\n                ] || setTimeout(function () {\n                    timerTimeoutDict[evt.type] = true;\n                    window.domOnEventDelegateDict.domOnEventDelegate(evt);\n                }, 50);\n                return;\n            }\n            timerTimeoutDict[evt.type] = null;\n            break;\n        }\n        switch (evt.targetOnEvent.tagName) {\n        case \"BUTTON\":\n        case \"FORM\":\n            evt.preventDefault();\n            break;\n        }\n        evt.stopPropagation();\n        window.domOnEventDelegateDict[evt.targetOnEvent.dataset.onevent](\n            evt\n        );\n    };\n    window.domOnEventDelegateDict.domOnEventResetOutput = function () {\n        Array.from(document.querySelectorAll(\n            \".onevent-reset-output\"\n        )).forEach(function (elem) {\n            switch (elem.tagName) {\n            case \"INPUT\":\n            case \"TEXTAREA\":\n                elem.value = \"\";\n                break;\n            case \"PRE\":\n                elem.textContent = \"\";\n                break;\n            default:\n                elem.innerHTML = \"\";\n            }\n        });\n    };\n    // init event-handling\n    [\n        \"change\",\n        \"click\",\n        \"keydown\",\n        \"submit\"\n    ].forEach(function (eventType) {\n        document.addEventListener(\n            eventType,\n            window.domOnEventDelegateDict.domOnEventDelegate\n        );\n    });\n}());\n\n\n\n// init timerIntervalAjaxProgressUpdate\n(function () {\n/*\n * this function will increment ajax-progress-bar\n * until webpage has loaded\n */\n    \"use strict\";\n    var ajaxProgressDiv1;\n    var ajaxProgressState;\n    var ajaxProgressUpdate;\n    if (\n        window.timerIntervalAjaxProgressUpdate\n        || !document.querySelector(\n            \"#ajaxProgressDiv1\"\n        )\n    ) {\n        return;\n    }\n    ajaxProgressDiv1 = document.querySelector(\n        \"#ajaxProgressDiv1\"\n    );\n    setTimeout(function () {\n        ajaxProgressDiv1.style.width = \"25%\";\n    });\n    ajaxProgressState = 0;\n    ajaxProgressUpdate = (\n        window.local\n        && window.local.ajaxProgressUpdate\n    ) || function () {\n        ajaxProgressDiv1.style.width = \"100%\";\n        setTimeout(function () {\n            ajaxProgressDiv1.style.background = \"transparent\";\n            setTimeout(function () {\n                ajaxProgressDiv1.style.width = \"0%\";\n            }, 500);\n        }, 1000);\n    };\n    window.timerIntervalAjaxProgressUpdate = setInterval(function () {\n        ajaxProgressState += 1;\n        ajaxProgressDiv1.style.width = Math.max(\n            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\n            ajaxProgressDiv1.style.width.slice(0, -1) | 0\n        ) + \"%\";\n    }, 1000);\n    window.addEventListener(\"load\", function () {\n        clearInterval(window.timerIntervalAjaxProgressUpdate);\n        ajaxProgressUpdate();\n    });\n}());\n\n\n\n// init domOnEventSelectAllWithinPre\n(function () {\n/*\n * this function will limit select-all within <pre tabIndex=\"0\"> elements\n * https://stackoverflow.com/questions/985272/selecting-text-in-an-element-akin-to-highlighting-with-your-mouse\n */\n    \"use strict\";\n    if (window.domOnEventSelectAllWithinPre) {\n        return;\n    }\n    window.domOnEventSelectAllWithinPre = function (evt) {\n        var range;\n        var selection;\n        if (\n            evt\n            && evt.key === \"a\"\n            && (evt.ctrlKey || evt.metaKey)\n            && evt.target.closest(\n                \"pre\"\n            )\n        ) {\n            range = document.createRange();\n            range.selectNodeContents(evt.target.closest(\n                \"pre\"\n            ));\n            selection = window.getSelection();\n            selection.removeAllRanges();\n            selection.addRange(range);\n            evt.preventDefault();\n        }\n    };\n    // init event-handling\n    document.addEventListener(\n        \"keydown\",\n        window.domOnEventSelectAllWithinPre\n    );\n}());\n</script>\n<h1>\n<!-- utility2-comment\n    <a\n        {{#if env.npm_package_homepage}}\n        href=\"{{env.npm_package_homepage}}\"\n        {{/if env.npm_package_homepage}}\n        target=\"_blank\"\n    >\nutility2-comment -->\n        utility2 (0.0.1)\n<!-- utility2-comment\n    </a>\nutility2-comment -->\n</h1>\n<h3>the greatest app in the world!</h3>\n<!-- utility2-comment\n<a class=\"button\" download href=\"assets.app.js\">download standalone app</a><br>\n<button class=\"button\" data-onevent=\"testRunBrowser\" id=\"testRunButton1\">run internal test</button><br>\nutility2-comment -->\n\n\n\n<label>edit or paste script below to cover and test</label>\n<textarea class=\"textarea\" data-onevent=\"testRunBrowser\" id=\"inputEval1\">\n// remove comment below to disable jslint\n/*jslint browser, devel*/\n/*global window*/\n(function () {\n    \"use strict\";\n    var testCaseDict;\n    testCaseDict = {};\n    testCaseDict.modeTest = 1;\n\n    // comment this testCase to disable failed error demo\n    testCaseDict.testCase_failed_error_demo = function (opt, onError) {\n    /*\n     * this function will run a failed error demo\n     */\n        // jslint-hack\n        window.utility2.nop(opt);\n        onError(new Error(\"this is a failed error demo\"));\n    };\n\n    testCaseDict.testCase_passed_ajax_demo = function (opt, onError) {\n    /*\n     * this function will demo a passed ajax test\n     */\n        var data;\n        opt = {url: \"/\"};\n        // test ajax-req for main-page \"/\"\n        window.utility2.ajax(opt, function (err, xhr) {\n            try {\n                // validate no err occurred\n                console.assert(!err, err);\n                // validate \"200 ok\" status\n                console.assert(xhr.statusCode === 200, xhr.statusCode);\n                // validate non-empty data\n                data = xhr.responseText;\n                console.assert(data && data.length > 0, data);\n                onError();\n            } catch (errorCaught) {\n                onError(errorCaught);\n            }\n        });\n    };\n\n    window.utility2.testRunDefault(testCaseDict);\n}());\n</textarea>\n<button class=\"button\" data-onevent=\"testRunBrowser\" id=\"jslintAutofixButton1\">jslint autofix</button><br>\n<pre class= \"colorError\" id=\"outputJslintPre1\" tabindex=\"0\"></pre>\n<label>instrumented-code</label>\n<pre class=\"readonly textarea\" id=\"outputCode1\" tabindex=\"0\"></pre>\n<label>stderr and stdout</label>\n<pre class=\"onevent-reset-output readonly textarea\" id=\"outputStdout1\" tabindex=\"0\"></pre>\n<div id=\"testReportDiv1\"></div>\n<div id=\"coverageReportDiv1\"></div>\n<!-- utility2-comment\n{{#if isRollup}}\n<script src=\"assets.app.js\"></script>\n{{#unless isRollup}}\nutility2-comment -->\n<script src=\"assets.utility2.lib.istanbul.js\"></script>\n<script src=\"assets.utility2.lib.jslint.js\"></script>\n<script src=\"assets.utility2.lib.db.js\"></script>\n<script src=\"assets.utility2.lib.marked.js\"></script>\n<script src=\"assets.utility2.lib.sjcl.js\"></script>\n<script src=\"assets.utility2.js\"></script>\n<script>window.utility2_onReadyBefore.counter += 1;</script>\n<script src=\"jsonp.utility2.stateInit?callback=window.utility2.stateInit\"></script>\n<script src=\"assets.example.js\"></script>\n<script src=\"assets.test.js\"></script>\n<script>window.utility2_onReadyBefore();</script>\n<!-- utility2-comment\n{{/if isRollup}}\nutility2-comment -->\n<div class=\"utility2FooterDiv\">\n    [ this app was created with\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\n    ]\n</div>\n</body>\n</html>\n","/assets.example.js":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\nexample.js\n\nthis script will demo automated browser-tests with coverage (via electron and istanbul)\n\ninstruction\n    1. save this script as example.js\n    2. run the shell-command:\n        $ npm install utility2 electron-lite && \\\n            PATH=\"$(pwd)/node_modules/.bin:$PATH\" \\\n            PORT=8081 \\\n            npm_config_mode_coverage=utility2 \\\n            node_modules/.bin/utility2 test example.js\n    3. view test-report in ./tmp/build/test-report.html\n    4. view coverage in ./tmp/build/coverage.html/index.html\n*/\n\n\n\n/* istanbul instrument in package utility2 */\n/* istanbul ignore next */\n/* jslint utility2:true */\n(function (globalThis) {\n    \"use strict\";\n    var consoleError;\n    var local;\n    // init globalThis\n    (function () {\n        try {\n            globalThis = Function(\"return this\")(); // jslint ignore:line\n        } catch (ignore) {}\n    }());\n    globalThis.globalThis = globalThis;\n    // init debug_inline\n    if (!globalThis[\"debug\\u0049nline\"]) {\n        consoleError = console.error;\n        globalThis[\"debug\\u0049nline\"] = function () {\n        /*\n         * this function will both print <arguments> to stderr\n         * and return <arguments>[0]\n         */\n            var argList;\n            argList = Array.from(arguments); // jslint ignore:line\n            // debug arguments\n            globalThis[\"debug\\u0049nlineArguments\"] = argList;\n            consoleError(\"\\n\\ndebug\\u0049nline\");\n            consoleError.apply(console, argList);\n            consoleError(\"\\n\");\n            // return arg0 for inspection\n            return argList[0];\n        };\n    }\n    // init local\n    local = {};\n    local.local = local;\n    globalThis.globalLocal = local;\n    // init isBrowser\n    local.isBrowser = (\n        typeof window === \"object\"\n        && window === globalThis\n        && typeof window.XMLHttpRequest === \"function\"\n        && window.document\n        && typeof window.document.querySelector === \"function\"\n    );\n    // init function\n    local.assertThrow = function (passed, message) {\n    /*\n     * this function will throw err.<message> if <passed> is falsy\n     */\n        var err;\n        if (passed) {\n            return;\n        }\n        err = (\n            // ternary-operator\n            (\n                message\n                && typeof message.message === \"string\"\n                && typeof message.stack === \"string\"\n            )\n            // if message is errObj, then leave as is\n            ? message\n            : new Error(\n                typeof message === \"string\"\n                // if message is a string, then leave as is\n                ? message\n                // else JSON.stringify message\n                : JSON.stringify(message, null, 4)\n            )\n        );\n        throw err;\n    };\n    local.functionOrNop = function (fnc) {\n    /*\n     * this function will if <fnc> exists,\n     * them return <fnc>,\n     * else return <nop>\n     */\n        return fnc || local.nop;\n    };\n    local.identity = function (value) {\n    /*\n     * this function will return <value>\n     */\n        return value;\n    };\n    local.nop = function () {\n    /*\n     * this function will do nothing\n     */\n        return;\n    };\n    local.objectAssignDefault = function (target, source) {\n    /*\n     * this function will if items from <target> are\n     * null, undefined, or empty-string,\n     * then overwrite them with items from <source>\n     */\n        target = target || {};\n        Object.keys(source || {}).forEach(function (key) {\n            if (\n                target[key] === null\n                || target[key] === undefined\n                || target[key] === \"\"\n            ) {\n                target[key] = target[key] || source[key];\n            }\n        });\n        return target;\n    };\n    // require builtin\n    if (!local.isBrowser) {\n        local.assert = require(\"assert\");\n        local.buffer = require(\"buffer\");\n        local.child_process = require(\"child_process\");\n        local.cluster = require(\"cluster\");\n        local.crypto = require(\"crypto\");\n        local.dgram = require(\"dgram\");\n        local.dns = require(\"dns\");\n        local.domain = require(\"domain\");\n        local.events = require(\"events\");\n        local.fs = require(\"fs\");\n        local.http = require(\"http\");\n        local.https = require(\"https\");\n        local.net = require(\"net\");\n        local.os = require(\"os\");\n        local.path = require(\"path\");\n        local.querystring = require(\"querystring\");\n        local.readline = require(\"readline\");\n        local.repl = require(\"repl\");\n        local.stream = require(\"stream\");\n        local.string_decoder = require(\"string_decoder\");\n        local.timers = require(\"timers\");\n        local.tls = require(\"tls\");\n        local.tty = require(\"tty\");\n        local.url = require(\"url\");\n        local.util = require(\"util\");\n        local.vm = require(\"vm\");\n        local.zlib = require(\"zlib\");\n    }\n}(this));\n\n\n\n(function (local) {\n\"use strict\";\n\n\n\n// run shared js-env code - init-before\n(function () {\n// init local\nlocal = (\n    globalThis.utility2_rollup\n    || globalThis.utility2_utility2\n    || globalThis.utility2_moduleExports\n);\n// init exports\nglobalThis.local = local;\n// run test-server\nlocal.testRunServer(local);\n// init assets\nlocal.assetsDict[\"/assets.hello.txt\"] = \"hello \\ud83d\\ude01\\n\";\nlocal.assetsDict[\"/assets.index.template.html\"] = \"\";\n}());\n\n\n\n// run shared js-env code - function\n(function () {\nlocal.testCase_ajax_200 = function (opt, onError) {\n/*\n * this function will test ajax's \"200 ok\" handling-behavior\n */\n    if (!local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    opt = {};\n    // test ajax-path \"assets.hello.txt\"\n    local.ajax({\n        url: \"assets.hello.txt\"\n    }, function (err, xhr) {\n        local.tryCatchOnError(function () {\n            // validate no err occurred\n            local.assertThrow(!err, err);\n            // validate data\n            opt.data = xhr.responseText;\n            local.assertThrow(\n                opt.data === \"hello \\ud83d\\ude01\\n\",\n                opt.data\n            );\n            onError();\n        }, onError);\n    });\n};\n\nlocal.testCase_ajax_404 = function (opt, onError) {\n/*\n * this function will test ajax's \"404 not found\" handling-behavior\n */\n    if (!local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    opt = {};\n    // test ajax-path \"/undefined\"\n    local.ajax({\n        url: \"/undefined\"\n    }, function (err) {\n        local.tryCatchOnError(function () {\n            // validate err occurred\n            local.assertThrow(err, err);\n            opt.statusCode = err.statusCode;\n            // validate 404 http statusCode\n            local.assertThrow(opt.statusCode === 404, opt.statusCode);\n            onError();\n        }, onError);\n    });\n};\n\nlocal.testCase_webpage_default = function (opt, onError) {\n/*\n * this function will test webpage's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    opt = {\n        modeCoverageMerge: true,\n        url: local.serverLocalHost + \"?modeTest=1\"\n    };\n    local.browserTest(opt, onError);\n};\n}());\n\n\n\n/* istanbul ignore next */\n// run browser js-env code - init-test\n(function () {\nif (!local.isBrowser) {\n    return;\n}\n// log stderr and stdout to #outputStdout1\n[\"error\", \"log\"].forEach(function (key) {\n    var argList;\n    var elem;\n    var fnc;\n    elem = document.querySelector(\n        \"#outputStdout1\"\n    );\n    if (!elem) {\n        return;\n    }\n    fnc = console[key];\n    console[key] = function () {\n        argList = Array.from(arguments); // jslint ignore:line\n        fnc.apply(console, argList);\n        // append text to #outputStdout1\n        elem.textContent += argList.map(function (arg) {\n            return (\n                typeof arg === \"string\"\n                ? arg\n                : JSON.stringify(arg, null, 4)\n            );\n        }).join(\" \").replace((\n            /\\u001b\\[\\d*m/g\n        ), \"\") + \"\\n\";\n        // scroll textarea to bottom\n        elem.scrollTop = elem.scrollHeight;\n    };\n});\nObject.assign(local, globalThis.domOnEventDelegateDict);\nglobalThis.domOnEventDelegateDict = local;\nlocal.onEventDomDb = (\n    local.db && local.db.onEventDomDb\n);\nlocal.testRunBrowser = function (evt) {\n/*\n * this function will run browser-tests\n */\n    switch (\n        !evt.ctrlKey\n        && !evt.metaKey\n        && (\n            evt.modeInit\n            || (evt.type + \".\" + (evt.target && evt.target.id))\n        )\n    ) {\n    // custom-case\n    case \"click.jslintAutofixButton1\":\n    case \"keydown.inputEval1\":\n    case true:\n        globalThis.domOnEventDelegateDict.domOnEventResetOutput();\n        // jslint #inputEval1\n        local.jslint.jslintAndPrint(\n            document.querySelector(\n                \"#inputEval1\"\n            ).value,\n            \"inputEval1.js\",\n            {\n                autofix: (\n                    evt\n                    && evt.currentTarget\n                    && evt.currentTarget.id === \"jslintAutofixButton1\"\n                ),\n                conditional: true\n            }\n        );\n        if (local.jslint.jslintResult.autofix) {\n            document.querySelector(\n                \"#inputEval1\"\n            ).value = (\n                local.jslint.jslintResult.code\n            );\n        }\n        document.querySelector(\n            \"#outputJslintPre1\"\n        ).textContent = (\n            local.jslint.jslintResult.errText\n        ).replace((\n            /\\u001b\\[\\d*m/g\n        ), \"\").trim();\n        // try to cleanup __coverage__\n        try {\n            delete globalThis.__coverage__[\"/inputEval1.js\"];\n        } catch (ignore) {}\n        // try to cover and eval input-code\n        try {\n            document.querySelector(\n                \"#outputCode1\"\n            ).textContent = (\n                local.istanbul.instrumentSync(\n                    document.querySelector(\n                        \"#inputEval1\"\n                    ).value,\n                    \"/inputEval1.js\"\n                )\n            );\n            eval( // jslint ignore:line\n                document.querySelector(\n                    \"#outputCode1\"\n                ).textContent.replace((\n                    /^#!\\//\n                ), \"// \")\n            );\n            document.querySelector(\n                \"#coverageReportDiv1\"\n            ).innerHTML = (\n                local.istanbul.coverageReportCreate({\n                    coverage: window.__coverage__\n                })\n            );\n        } catch (errorCaught2) {\n            console.error(errorCaught2);\n        }\n        return;\n    case \"click.testRunButton1\":\n        local.modeTest = 1;\n        local.testRunDefault(local);\n        return;\n    // run browser-tests\n    default:\n        if (\n            (evt.target && evt.target.id) !== \"testRunButton1\"\n            && !(evt.modeInit && (\n                /\\bmodeTest=1\\b/\n            ).test(location.search))\n        ) {\n            return;\n        }\n        // show browser-tests\n        if (document.querySelector(\n            \"#testReportDiv1\"\n        ).style.maxHeight === \"0px\") {\n            globalThis.domOnEventDelegateDict.domOnEventResetOutput();\n            local.uiAnimateSlideDown(document.querySelector(\n                \"#testReportDiv1\"\n            ));\n            document.querySelector(\n                \"#testRunButton1\"\n            ).textContent = \"hide internal test\";\n            local.modeTest = 1;\n            local.testRunDefault(local);\n            return;\n        }\n        // hide browser-tests\n        local.uiAnimateSlideUp(document.querySelector(\n            \"#testReportDiv1\"\n        ));\n        document.querySelector(\n            \"#testRunButton1\"\n        ).textContent = \"run internal test\";\n    }\n};\n\nlocal.testRunBrowser({\n    modeInit: true\n});\n}());\n\n\n\n/* istanbul ignore next */\n// run node js-env code - init-test\n(function () {\nif (local.isBrowser) {\n    return;\n}\n// init exports\nmodule.exports = local;\n/* validateLineSortedReset */\n// init assets\nlocal.assetsDict = local.assetsDict || {};\n[\n    \"assets.index.template.html\",\n    \"assets.swgg.swagger.json\",\n    \"assets.swgg.swagger.server.json\"\n].forEach(function (file) {\n    file = \"/\" + file;\n    local.assetsDict[file] = local.assetsDict[file] || \"\";\n    if (local.fs.existsSync(local.__dirname + file)) {\n        local.assetsDict[file] = local.fs.readFileSync(\n            local.__dirname + file,\n            \"utf8\"\n        );\n    }\n});\n/* jslint ignore:start */\nlocal.assetsDict[\"/assets.index.template.html\"] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"utf-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<!-- \"assets.utility2.template.html\" -->\\n\\\n<title>{{env.npm_package_name}} ({{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/* jslint utility2:true */\\n\\\n/*csslint\\n\\\n*/\\n\\\n/* csslint ignore:start */\\n\\\n*,\\n\\\n*:after,\\n\\\n*:before {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\n/* csslint ignore:end */\\n\\\n@keyframes uiAnimateShake {\\n\\\n0%,\\n\\\n50% {\\n\\\n    transform: translateX(10px);\\n\\\n}\\n\\\n100% {\\n\\\n    transform: translateX(0);\\n\\\n}\\n\\\n25%,\\n\\\n75% {\\n\\\n    transform: translateX(-10px);\\n\\\n}\\n\\\n}\\n\\\n@keyframes uiAnimateSpin {\\n\\\n0% {\\n\\\n    transform: rotate(0deg);\\n\\\n}\\n\\\n100% {\\n\\\n    transform: rotate(360deg);\\n\\\n}\\n\\\n}\\n\\\na {\\n\\\n    overflow-wrap: break-word;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #eef;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    font-size: small;\\n\\\n    margin: 0 40px;\\n\\\n}\\n\\\nbody > div,\\n\\\nbody > form > div,\\n\\\nbody > form > input,\\n\\\nbody > form > pre,\\n\\\nbody > form > .button,\\n\\\nbody > form > .textarea,\\n\\\nbody > input,\\n\\\nbody > pre,\\n\\\nbody > .button,\\n\\\nbody > .textarea {\\n\\\n    margin-bottom: 20px;\\n\\\n    margin-top: 0;\\n\\\n}\\n\\\nbody > form > input,\\n\\\nbody > form > .button,\\n\\\nbody > input,\\n\\\nbody > .button {\\n\\\n    width: 20rem;\\n\\\n}\\n\\\nbody > form > .textarea,\\n\\\nbody > .textarea {\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\nbody > .readonly {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\ncode,\\n\\\npre,\\n\\\n.textarea {\\n\\\n    font-family: Consolas, Menlo, monospace;\\n\\\n    font-size: smaller;\\n\\\n}\\n\\\npre {\\n\\\n    overflow-wrap: break-word;\\n\\\n    white-space: pre-wrap;\\n\\\n}\\n\\\n.button {\\n\\\n    background-color: #fff;\\n\\\n    border: 1px solid;\\n\\\n    border-bottom-color: rgb(186, 186, 186);\\n\\\n    border-left-color: rgb(209, 209, 209);\\n\\\n    border-radius: 4px;\\n\\\n    border-right-color: rgb(209, 209, 209);\\n\\\n    border-top-color: rgb(216, 216, 216);\\n\\\n    color: #00d;\\n\\\n    cursor: pointer;\\n\\\n    display: inline-block;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    font-size: 12px;\\n\\\n    font-style: normal;\\n\\\n    font-weight: normal;\\n\\\n    margin: 0;\\n\\\n    padding: 2px 7px 3px 7px;\\n\\\n    text-align: center;\\n\\\n    text-decoration: underline;\\n\\\n}\\n\\\n.colorError {\\n\\\n    color: #d00;\\n\\\n}\\n\\\n.textarea {\\n\\\n    background: #fff;\\n\\\n    border: 1px solid #999;\\n\\\n    border-radius: 0;\\n\\\n    cursor: auto;\\n\\\n    overflow: auto;\\n\\\n    padding: 2px;\\n\\\n}\\n\\\n.uiAnimateShake {\\n\\\n    animation-duration: 500ms;\\n\\\n    animation-name: uiAnimateShake;\\n\\\n}\\n\\\n.uiAnimateSlide {\\n\\\n    overflow-y: hidden;\\n\\\n    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    text-align: center;\\n\\\n}\\n\\\n.zeroPixel {\\n\\\n    border: 0;\\n\\\n    height: 0;\\n\\\n    margin: 0;\\n\\\n    padding: 0;\\n\\\n    width: 0;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;\"></div>\\n\\\n<div class=\"uiAnimateSpin\" style=\"animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;\"></div>\\n\\\n<a class=\"zeroPixel\" download=\"db.persistence.json\" href=\"\" id=\"dbExportA1\"></a>\\n\\\n<input class=\"zeroPixel\" data-onevent=\"onEventDomDb\" data-onevent-db=\"dbImportInput\" type=\"file\">\\n\\\n<script>\\n\\\n/* jslint utility2:true */\\n\\\n// init domOnEventWindowOnloadTimeElapsed\\n\\\n(function () {\\n\\\n/*\\n\\\n * this function will measure and print time-elapsed for window.onload\\n\\\n */\\n\\\n    \"use strict\";\\n\\\n    if (window.domOnEventWindowOnloadTimeElapsed) {\\n\\\n        return;\\n\\\n    }\\n\\\n    window.domOnEventWindowOnloadTimeElapsed = Date.now() + 100;\\n\\\n    window.addEventListener(\"load\", function () {\\n\\\n        setTimeout(function () {\\n\\\n            window.domOnEventWindowOnloadTimeElapsed = (\\n\\\n                Date.now()\\n\\\n                - window.domOnEventWindowOnloadTimeElapsed\\n\\\n            );\\n\\\n            console.error(\\n\\\n                \"domOnEventWindowOnloadTimeElapsed = \"\\n\\\n                + window.domOnEventWindowOnloadTimeElapsed\\n\\\n            );\\n\\\n        }, 100);\\n\\\n    });\\n\\\n}());\\n\\\n\\n\\\n\\n\\\n\\n\\\n// init domOnEventDelegateDict\\n\\\n(function () {\\n\\\n/*\\n\\\n * this function will handle delegated dom-event\\n\\\n */\\n\\\n    \"use strict\";\\n\\\n    var timerTimeoutDict;\\n\\\n    if (window.domOnEventDelegateDict) {\\n\\\n        return;\\n\\\n    }\\n\\\n    window.domOnEventDelegateDict = {};\\n\\\n    timerTimeoutDict = {};\\n\\\n    window.domOnEventDelegateDict.domOnEventDelegate = function (evt) {\\n\\\n        evt.targetOnEvent = evt.target.closest(\\n\\\n            \"[data-onevent]\"\\n\\\n        );\\n\\\n        if (\\n\\\n            !evt.targetOnEvent\\n\\\n            || evt.targetOnEvent.dataset.onevent === \"domOnEventNop\"\\n\\\n            || evt.target.closest(\\n\\\n                \".disabled, .readonly\"\\n\\\n            )\\n\\\n        ) {\\n\\\n            return;\\n\\\n        }\\n\\\n        // rate-limit high-frequency-event\\n\\\n        switch (evt.type) {\\n\\\n        case \"keydown\":\\n\\\n        case \"keyup\":\\n\\\n            // filter non-input keyboard-event\\n\\\n            if (!evt.target.closest(\\n\\\n                \"input, option, select, textarea\"\\n\\\n            )) {\\n\\\n                return;\\n\\\n            }\\n\\\n            if (timerTimeoutDict[evt.type] !== true) {\\n\\\n                timerTimeoutDict[evt.type] = timerTimeoutDict[\\n\\\n                    evt.type\\n\\\n                ] || setTimeout(function () {\\n\\\n                    timerTimeoutDict[evt.type] = true;\\n\\\n                    window.domOnEventDelegateDict.domOnEventDelegate(evt);\\n\\\n                }, 50);\\n\\\n                return;\\n\\\n            }\\n\\\n            timerTimeoutDict[evt.type] = null;\\n\\\n            break;\\n\\\n        }\\n\\\n        switch (evt.targetOnEvent.tagName) {\\n\\\n        case \"BUTTON\":\\n\\\n        case \"FORM\":\\n\\\n            evt.preventDefault();\\n\\\n            break;\\n\\\n        }\\n\\\n        evt.stopPropagation();\\n\\\n        window.domOnEventDelegateDict[evt.targetOnEvent.dataset.onevent](\\n\\\n            evt\\n\\\n        );\\n\\\n    };\\n\\\n    window.domOnEventDelegateDict.domOnEventResetOutput = function () {\\n\\\n        Array.from(document.querySelectorAll(\\n\\\n            \".onevent-reset-output\"\\n\\\n        )).forEach(function (elem) {\\n\\\n            switch (elem.tagName) {\\n\\\n            case \"INPUT\":\\n\\\n            case \"TEXTAREA\":\\n\\\n                elem.value = \"\";\\n\\\n                break;\\n\\\n            case \"PRE\":\\n\\\n                elem.textContent = \"\";\\n\\\n                break;\\n\\\n            default:\\n\\\n                elem.innerHTML = \"\";\\n\\\n            }\\n\\\n        });\\n\\\n    };\\n\\\n    // init event-handling\\n\\\n    [\\n\\\n        \"change\",\\n\\\n        \"click\",\\n\\\n        \"keydown\",\\n\\\n        \"submit\"\\n\\\n    ].forEach(function (eventType) {\\n\\\n        document.addEventListener(\\n\\\n            eventType,\\n\\\n            window.domOnEventDelegateDict.domOnEventDelegate\\n\\\n        );\\n\\\n    });\\n\\\n}());\\n\\\n\\n\\\n\\n\\\n\\n\\\n// init timerIntervalAjaxProgressUpdate\\n\\\n(function () {\\n\\\n/*\\n\\\n * this function will increment ajax-progress-bar\\n\\\n * until webpage has loaded\\n\\\n */\\n\\\n    \"use strict\";\\n\\\n    var ajaxProgressDiv1;\\n\\\n    var ajaxProgressState;\\n\\\n    var ajaxProgressUpdate;\\n\\\n    if (\\n\\\n        window.timerIntervalAjaxProgressUpdate\\n\\\n        || !document.querySelector(\\n\\\n            \"#ajaxProgressDiv1\"\\n\\\n        )\\n\\\n    ) {\\n\\\n        return;\\n\\\n    }\\n\\\n    ajaxProgressDiv1 = document.querySelector(\\n\\\n        \"#ajaxProgressDiv1\"\\n\\\n    );\\n\\\n    setTimeout(function () {\\n\\\n        ajaxProgressDiv1.style.width = \"25%\";\\n\\\n    });\\n\\\n    ajaxProgressState = 0;\\n\\\n    ajaxProgressUpdate = (\\n\\\n        window.local\\n\\\n        && window.local.ajaxProgressUpdate\\n\\\n    ) || function () {\\n\\\n        ajaxProgressDiv1.style.width = \"100%\";\\n\\\n        setTimeout(function () {\\n\\\n            ajaxProgressDiv1.style.background = \"transparent\";\\n\\\n            setTimeout(function () {\\n\\\n                ajaxProgressDiv1.style.width = \"0%\";\\n\\\n            }, 500);\\n\\\n        }, 1000);\\n\\\n    };\\n\\\n    window.timerIntervalAjaxProgressUpdate = setInterval(function () {\\n\\\n        ajaxProgressState += 1;\\n\\\n        ajaxProgressDiv1.style.width = Math.max(\\n\\\n            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\\n\\\n            ajaxProgressDiv1.style.width.slice(0, -1) | 0\\n\\\n        ) + \"%\";\\n\\\n    }, 1000);\\n\\\n    window.addEventListener(\"load\", function () {\\n\\\n        clearInterval(window.timerIntervalAjaxProgressUpdate);\\n\\\n        ajaxProgressUpdate();\\n\\\n    });\\n\\\n}());\\n\\\n\\n\\\n\\n\\\n\\n\\\n// init domOnEventSelectAllWithinPre\\n\\\n(function () {\\n\\\n/*\\n\\\n * this function will limit select-all within <pre tabIndex=\"0\"> elements\\n\\\n * https://stackoverflow.com/questions/985272/selecting-text-in-an-element-akin-to-highlighting-with-your-mouse\\n\\\n */\\n\\\n    \"use strict\";\\n\\\n    if (window.domOnEventSelectAllWithinPre) {\\n\\\n        return;\\n\\\n    }\\n\\\n    window.domOnEventSelectAllWithinPre = function (evt) {\\n\\\n        var range;\\n\\\n        var selection;\\n\\\n        if (\\n\\\n            evt\\n\\\n            && evt.key === \"a\"\\n\\\n            && (evt.ctrlKey || evt.metaKey)\\n\\\n            && evt.target.closest(\\n\\\n                \"pre\"\\n\\\n            )\\n\\\n        ) {\\n\\\n            range = document.createRange();\\n\\\n            range.selectNodeContents(evt.target.closest(\\n\\\n                \"pre\"\\n\\\n            ));\\n\\\n            selection = window.getSelection();\\n\\\n            selection.removeAllRanges();\\n\\\n            selection.addRange(range);\\n\\\n            evt.preventDefault();\\n\\\n        }\\n\\\n    };\\n\\\n    // init event-handling\\n\\\n    document.addEventListener(\\n\\\n        \"keydown\",\\n\\\n        window.domOnEventSelectAllWithinPre\\n\\\n    );\\n\\\n}());\\n\\\n</script>\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} ({{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<a class=\"button\" download href=\"assets.app.js\">download standalone app</a><br>\\n\\\n<button class=\"button\" data-onevent=\"testRunBrowser\" id=\"testRunButton1\">run internal test</button><br>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>edit or paste script below to cover and test</label>\\n\\\n<textarea class=\"textarea\" data-onevent=\"testRunBrowser\" id=\"inputEval1\">\\n\\\n// remove comment below to disable jslint\\n\\\n/*jslint browser, devel*/\\n\\\n/*global window*/\\n\\\n(function () {\\n\\\n    \"use strict\";\\n\\\n    var testCaseDict;\\n\\\n    testCaseDict = {};\\n\\\n    testCaseDict.modeTest = 1;\\n\\\n\\n\\\n    // comment this testCase to disable failed error demo\\n\\\n    testCaseDict.testCase_failed_error_demo = function (opt, onError) {\\n\\\n    /*\\n\\\n     * this function will run a failed error demo\\n\\\n     */\\n\\\n        // jslint-hack\\n\\\n        window.utility2.nop(opt);\\n\\\n        onError(new Error(\"this is a failed error demo\"));\\n\\\n    };\\n\\\n\\n\\\n    testCaseDict.testCase_passed_ajax_demo = function (opt, onError) {\\n\\\n    /*\\n\\\n     * this function will demo a passed ajax test\\n\\\n     */\\n\\\n        var data;\\n\\\n        opt = {url: \"/\"};\\n\\\n        // test ajax-req for main-page \"/\"\\n\\\n        window.utility2.ajax(opt, function (err, xhr) {\\n\\\n            try {\\n\\\n                // validate no err occurred\\n\\\n                console.assert(!err, err);\\n\\\n                // validate \"200 ok\" status\\n\\\n                console.assert(xhr.statusCode === 200, xhr.statusCode);\\n\\\n                // validate non-empty data\\n\\\n                data = xhr.responseText;\\n\\\n                console.assert(data && data.length > 0, data);\\n\\\n                onError();\\n\\\n            } catch (errorCaught) {\\n\\\n                onError(errorCaught);\\n\\\n            }\\n\\\n        });\\n\\\n    };\\n\\\n\\n\\\n    window.utility2.testRunDefault(testCaseDict);\\n\\\n}());\\n\\\n</textarea>\\n\\\n<button class=\"button\" data-onevent=\"testRunBrowser\" id=\"jslintAutofixButton1\">jslint autofix</button><br>\\n\\\n<pre class= \"colorError\" id=\"outputJslintPre1\" tabindex=\"0\"></pre>\\n\\\n<label>instrumented-code</label>\\n\\\n<pre class=\"readonly textarea\" id=\"outputCode1\" tabindex=\"0\"></pre>\\n\\\n<label>stderr and stdout</label>\\n\\\n<pre class=\"onevent-reset-output readonly textarea\" id=\"outputStdout1\" tabindex=\"0\"></pre>\\n\\\n<div id=\"testReportDiv1\"></div>\\n\\\n<div id=\"coverageReportDiv1\"></div>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.lib.istanbul.js\"></script>\\n\\\n<script src=\"assets.utility2.lib.jslint.js\"></script>\\n\\\n<script src=\"assets.utility2.lib.db.js\"></script>\\n\\\n<script src=\"assets.utility2.lib.marked.js\"></script>\\n\\\n<script src=\"assets.utility2.lib.sjcl.js\"></script>\\n\\\n<script src=\"assets.utility2.js\"></script>\\n\\\n<script>window.utility2_onReadyBefore.counter += 1;</script>\\n\\\n<script src=\"jsonp.utility2.stateInit?callback=window.utility2.stateInit\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<script>window.utility2_onReadyBefore();</script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n/* jslint ignore:end */\n/* validateLineSortedReset */\n/* jslint ignore:start */\nlocal.assetsDict[\"/assets.utility2.js\"] =\n    local.assetsDict[\"/assets.utility2.js\"] ||\n    local.fs.readFileSync(local.__dirname + \"/lib.utility2.js\", \"utf8\"\n).replace((/^#!\\//), \"// \");\n/* jslint ignore:end */\n/* validateLineSortedReset */\nlocal.assetsDict[\"/\"] = local.assetsDict[\"/assets.index.template.html\"]\n.replace((\n    /\\{\\{env\\.(\\w+?)\\}\\}/g\n), function (match0, match1) {\n    switch (match1) {\n    case \"npm_package_description\":\n        return \"the greatest app in the world!\";\n    case \"npm_package_name\":\n        return \"utility2\";\n    case \"npm_package_nameLib\":\n        return \"utility2\";\n    case \"npm_package_version\":\n        return \"0.0.1\";\n    default:\n        return match0;\n    }\n});\nlocal.assetsDict[\"/assets.example.html\"] = local.assetsDict[\"/\"];\nlocal.assetsDict[\"/index.html\"] = local.assetsDict[\"/\"];\n// init cli\nif (module !== require.main || globalThis.utility2_rollup) {\n    return;\n}\n/* validateLineSortedReset */\nlocal.assetsDict[\"/assets.example.js\"] = (\n    local.assetsDict[\"/assets.example.js\"]\n    || local.fs.readFileSync(__filename, \"utf8\")\n);\nlocal.assetsDict[\"/favicon.ico\"] = local.assetsDict[\"/favicon.ico\"] || \"\";\n// if $npm_config_timeout_exit exists,\n// then exit this process after $npm_config_timeout_exit ms\nif (Number(process.env.npm_config_timeout_exit)) {\n    setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n}\n// start server\nif (globalThis.utility2_serverHttp1) {\n    return;\n}\nprocess.env.PORT = process.env.PORT || \"8081\";\nconsole.error(\"http-server listening on port \" + process.env.PORT);\nlocal.http.createServer(function (req, res) {\n    req.urlParsed = local.url.parse(req.url);\n    if (local.assetsDict[req.urlParsed.pathname] !== undefined) {\n        res.end(local.assetsDict[req.urlParsed.pathname]);\n        return;\n    }\n    res.statusCode = 404;\n    res.end();\n}).listen(process.env.PORT);\n}());\n\n\n\n}());","/assets.swgg.swagger.json":"{\"swagger\":\"2.0\",\"info\":{\"description\":\"This is a sample server Petstore server.  You can find out more about Swagger at [http://swagger.io](http://swagger.io) or on [irc.freenode.net, #swagger](http://swagger.io/irc/).  For this sample, you can use the api key `special-key` to test the authorization filters.\",\"version\":\"1.0.0\",\"title\":\"Swagger Petstore\",\"termsOfService\":\"http://swagger.io/terms/\",\"contact\":{\"email\":\"apiteam@swagger.io\"},\"license\":{\"name\":\"Apache 2.0\",\"url\":\"http://www.apache.org/licenses/LICENSE-2.0.html\"}},\"host\":\"petstore.swagger.io\",\"basePath\":\"/v2\",\"tags\":[{\"name\":\"pet\",\"description\":\"Everything about your Pets\",\"externalDocs\":{\"description\":\"Find out more\",\"url\":\"http://swagger.io\"}},{\"name\":\"store\",\"description\":\"Access to Petstore orders\"},{\"name\":\"user\",\"description\":\"Operations about user\",\"externalDocs\":{\"description\":\"Find out more about our store\",\"url\":\"http://swagger.io\"}}],\"schemes\":[\"http\"],\"paths\":{\"/pet\":{\"post\":{\"tags\":[\"pet\"],\"summary\":\"Add a new pet to the store\",\"description\":\"\",\"operationId\":\"addPet\",\"consumes\":[\"application/json\",\"application/xml\"],\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"in\":\"body\",\"name\":\"body\",\"description\":\"Pet object that needs to be added to the store\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/Pet\"}}],\"responses\":{\"405\":{\"description\":\"Invalid input\"}},\"security\":[{\"petstore_auth\":[\"write:pets\",\"read:pets\"]}]},\"put\":{\"tags\":[\"pet\"],\"summary\":\"Update an existing pet\",\"description\":\"\",\"operationId\":\"updatePet\",\"consumes\":[\"application/json\",\"application/xml\"],\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"in\":\"body\",\"name\":\"body\",\"description\":\"Pet object that needs to be added to the store\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/Pet\"}}],\"responses\":{\"400\":{\"description\":\"Invalid ID supplied\"},\"404\":{\"description\":\"Pet not found\"},\"405\":{\"description\":\"Validation exception\"}},\"security\":[{\"petstore_auth\":[\"write:pets\",\"read:pets\"]}]}},\"/pet/findByStatus\":{\"get\":{\"tags\":[\"pet\"],\"summary\":\"Finds Pets by status\",\"description\":\"Multiple status values can be provided with comma separated strings\",\"operationId\":\"findPetsByStatus\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"status\",\"in\":\"query\",\"description\":\"Status values that need to be considered for filter\",\"required\":true,\"type\":\"array\",\"items\":{\"type\":\"string\",\"enum\":[\"available\",\"pending\",\"sold\"],\"default\":\"available\"},\"collectionFormat\":\"multi\"}],\"responses\":{\"200\":{\"description\":\"successful operation\",\"schema\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Pet\"}}},\"400\":{\"description\":\"Invalid status value\"}},\"security\":[{\"petstore_auth\":[\"write:pets\",\"read:pets\"]}]}},\"/pet/findByTags\":{\"get\":{\"tags\":[\"pet\"],\"summary\":\"Finds Pets by tags\",\"description\":\"Muliple tags can be provided with comma separated strings. Use tag1, tag2, tag3 for testing.\",\"operationId\":\"findPetsByTags\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"tags\",\"in\":\"query\",\"description\":\"Tags to filter by\",\"required\":true,\"type\":\"array\",\"items\":{\"type\":\"string\"},\"collectionFormat\":\"multi\"}],\"responses\":{\"200\":{\"description\":\"successful operation\",\"schema\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Pet\"}}},\"400\":{\"description\":\"Invalid tag value\"}},\"security\":[{\"petstore_auth\":[\"write:pets\",\"read:pets\"]}],\"deprecated\":true}},\"/pet/{petId}\":{\"get\":{\"tags\":[\"pet\"],\"summary\":\"Find pet by ID\",\"description\":\"Returns a single pet\",\"operationId\":\"getPetById\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"petId\",\"in\":\"path\",\"description\":\"ID of pet to return\",\"required\":true,\"type\":\"integer\",\"format\":\"int64\"}],\"responses\":{\"200\":{\"description\":\"successful operation\",\"schema\":{\"$ref\":\"#/definitions/Pet\"}},\"400\":{\"description\":\"Invalid ID supplied\"},\"404\":{\"description\":\"Pet not found\"}},\"security\":[{\"api_key\":[]}]},\"post\":{\"tags\":[\"pet\"],\"summary\":\"Updates a pet in the store with form data\",\"description\":\"\",\"operationId\":\"updatePetWithForm\",\"consumes\":[\"application/x-www-form-urlencoded\"],\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"petId\",\"in\":\"path\",\"description\":\"ID of pet that needs to be updated\",\"required\":true,\"type\":\"integer\",\"format\":\"int64\"},{\"name\":\"name\",\"in\":\"formData\",\"description\":\"Updated name of the pet\",\"required\":false,\"type\":\"string\"},{\"name\":\"status\",\"in\":\"formData\",\"description\":\"Updated status of the pet\",\"required\":false,\"type\":\"string\"}],\"responses\":{\"405\":{\"description\":\"Invalid input\"}},\"security\":[{\"petstore_auth\":[\"write:pets\",\"read:pets\"]}]},\"delete\":{\"tags\":[\"pet\"],\"summary\":\"Deletes a pet\",\"description\":\"\",\"operationId\":\"deletePet\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"api_key\",\"in\":\"header\",\"required\":false,\"type\":\"string\"},{\"name\":\"petId\",\"in\":\"path\",\"description\":\"Pet id to delete\",\"required\":true,\"type\":\"integer\",\"format\":\"int64\"}],\"responses\":{\"400\":{\"description\":\"Invalid ID supplied\"},\"404\":{\"description\":\"Pet not found\"}},\"security\":[{\"petstore_auth\":[\"write:pets\",\"read:pets\"]}]}},\"/pet/{petId}/uploadImage\":{\"post\":{\"tags\":[\"pet\"],\"summary\":\"uploads an image\",\"description\":\"\",\"operationId\":\"uploadFile\",\"consumes\":[\"multipart/form-data\"],\"produces\":[\"application/json\"],\"parameters\":[{\"name\":\"petId\",\"in\":\"path\",\"description\":\"ID of pet to update\",\"required\":true,\"type\":\"integer\",\"format\":\"int64\"},{\"name\":\"additionalMetadata\",\"in\":\"formData\",\"description\":\"Additional data to pass to server\",\"required\":false,\"type\":\"string\"},{\"name\":\"file\",\"in\":\"formData\",\"description\":\"file to upload\",\"required\":false,\"type\":\"file\"}],\"responses\":{\"200\":{\"description\":\"successful operation\",\"schema\":{\"$ref\":\"#/definitions/ApiResponse\"}}},\"security\":[{\"petstore_auth\":[\"write:pets\",\"read:pets\"]}]}},\"/store/inventory\":{\"get\":{\"tags\":[\"store\"],\"summary\":\"Returns pet inventories by status\",\"description\":\"Returns a map of status codes to quantities\",\"operationId\":\"getInventory\",\"produces\":[\"application/json\"],\"parameters\":[],\"responses\":{\"200\":{\"description\":\"successful operation\",\"schema\":{\"type\":\"object\",\"additionalProperties\":{\"type\":\"integer\",\"format\":\"int32\"}}}},\"security\":[{\"api_key\":[]}]}},\"/store/order\":{\"post\":{\"tags\":[\"store\"],\"summary\":\"Place an order for a pet\",\"description\":\"\",\"operationId\":\"placeOrder\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"in\":\"body\",\"name\":\"body\",\"description\":\"order placed for purchasing the pet\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/Order\"}}],\"responses\":{\"200\":{\"description\":\"successful operation\",\"schema\":{\"$ref\":\"#/definitions/Order\"}},\"400\":{\"description\":\"Invalid Order\"}}}},\"/store/order/{orderId}\":{\"get\":{\"tags\":[\"store\"],\"summary\":\"Find purchase order by ID\",\"description\":\"For valid response try integer IDs with value >= 1 and <= 10. Other values will generated exceptions\",\"operationId\":\"getOrderById\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"orderId\",\"in\":\"path\",\"description\":\"ID of pet that needs to be fetched\",\"required\":true,\"type\":\"integer\",\"maximum\":10,\"minimum\":1,\"format\":\"int64\"}],\"responses\":{\"200\":{\"description\":\"successful operation\",\"schema\":{\"$ref\":\"#/definitions/Order\"}},\"400\":{\"description\":\"Invalid ID supplied\"},\"404\":{\"description\":\"Order not found\"}}},\"delete\":{\"tags\":[\"store\"],\"summary\":\"Delete purchase order by ID\",\"description\":\"For valid response try integer IDs with positive integer value. Negative or non-integer values will generate API errors\",\"operationId\":\"deleteOrder\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"orderId\",\"in\":\"path\",\"description\":\"ID of the order that needs to be deleted\",\"required\":true,\"type\":\"integer\",\"minimum\":1,\"format\":\"int64\"}],\"responses\":{\"400\":{\"description\":\"Invalid ID supplied\"},\"404\":{\"description\":\"Order not found\"}}}},\"/user\":{\"post\":{\"tags\":[\"user\"],\"summary\":\"Create user\",\"description\":\"This can only be done by the logged in user.\",\"operationId\":\"createUser\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"in\":\"body\",\"name\":\"body\",\"description\":\"Created user object\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/User\"}}],\"responses\":{\"default\":{\"description\":\"successful operation\"}}}},\"/user/createWithArray\":{\"post\":{\"tags\":[\"user\"],\"summary\":\"Creates list of users with given input array\",\"description\":\"\",\"operationId\":\"createUsersWithArrayInput\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"in\":\"body\",\"name\":\"body\",\"description\":\"List of user object\",\"required\":true,\"schema\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/User\"}}}],\"responses\":{\"default\":{\"description\":\"successful operation\"}}}},\"/user/createWithList\":{\"post\":{\"tags\":[\"user\"],\"summary\":\"Creates list of users with given input array\",\"description\":\"\",\"operationId\":\"createUsersWithListInput\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"in\":\"body\",\"name\":\"body\",\"description\":\"List of user object\",\"required\":true,\"schema\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/User\"}}}],\"responses\":{\"default\":{\"description\":\"successful operation\"}}}},\"/user/login\":{\"get\":{\"tags\":[\"user\"],\"summary\":\"Logs user into the system\",\"description\":\"\",\"operationId\":\"loginUser\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"username\",\"in\":\"query\",\"description\":\"The user name for login\",\"required\":true,\"type\":\"string\"},{\"name\":\"password\",\"in\":\"query\",\"description\":\"The password for login in clear text\",\"required\":true,\"type\":\"string\"}],\"responses\":{\"200\":{\"description\":\"successful operation\",\"schema\":{\"type\":\"string\"},\"headers\":{\"X-Rate-Limit\":{\"type\":\"integer\",\"format\":\"int32\",\"description\":\"calls per hour allowed by the user\"},\"X-Expires-After\":{\"type\":\"string\",\"format\":\"date-time\",\"description\":\"date in UTC when token expires\"}}},\"400\":{\"description\":\"Invalid username/password supplied\"}}}},\"/user/logout\":{\"get\":{\"tags\":[\"user\"],\"summary\":\"Logs out current logged in user session\",\"description\":\"\",\"operationId\":\"logoutUser\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[],\"responses\":{\"default\":{\"description\":\"successful operation\"}}}},\"/user/{username}\":{\"get\":{\"tags\":[\"user\"],\"summary\":\"Get user by user name\",\"description\":\"\",\"operationId\":\"getUserByName\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"username\",\"in\":\"path\",\"description\":\"The name that needs to be fetched. Use user1 for testing. \",\"required\":true,\"type\":\"string\"}],\"responses\":{\"200\":{\"description\":\"successful operation\",\"schema\":{\"$ref\":\"#/definitions/User\"}},\"400\":{\"description\":\"Invalid username supplied\"},\"404\":{\"description\":\"User not found\"}}},\"put\":{\"tags\":[\"user\"],\"summary\":\"Updated user\",\"description\":\"This can only be done by the logged in user.\",\"operationId\":\"updateUser\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"username\",\"in\":\"path\",\"description\":\"name that need to be updated\",\"required\":true,\"type\":\"string\"},{\"in\":\"body\",\"name\":\"body\",\"description\":\"Updated user object\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/User\"}}],\"responses\":{\"400\":{\"description\":\"Invalid user supplied\"},\"404\":{\"description\":\"User not found\"}}},\"delete\":{\"tags\":[\"user\"],\"summary\":\"Delete user\",\"description\":\"This can only be done by the logged in user.\",\"operationId\":\"deleteUser\",\"produces\":[\"application/xml\",\"application/json\"],\"parameters\":[{\"name\":\"username\",\"in\":\"path\",\"description\":\"The name that needs to be deleted\",\"required\":true,\"type\":\"string\"}],\"responses\":{\"400\":{\"description\":\"Invalid username supplied\"},\"404\":{\"description\":\"User not found\"}}}}},\"securityDefinitions\":{\"petstore_auth\":{\"type\":\"oauth2\",\"authorizationUrl\":\"http://petstore.swagger.io/oauth/dialog\",\"flow\":\"implicit\",\"scopes\":{\"write:pets\":\"modify pets in your account\",\"read:pets\":\"read your pets\"}},\"api_key\":{\"type\":\"apiKey\",\"name\":\"api_key\",\"in\":\"header\"}},\"definitions\":{\"Order\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\",\"format\":\"int64\"},\"petId\":{\"type\":\"integer\",\"format\":\"int64\"},\"quantity\":{\"type\":\"integer\",\"format\":\"int32\"},\"shipDate\":{\"type\":\"string\",\"format\":\"date-time\"},\"status\":{\"type\":\"string\",\"description\":\"Order Status\",\"enum\":[\"placed\",\"approved\",\"delivered\"]},\"complete\":{\"type\":\"boolean\",\"default\":false}},\"xml\":{\"name\":\"Order\"}},\"Category\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\",\"format\":\"int64\"},\"name\":{\"type\":\"string\"}},\"xml\":{\"name\":\"Category\"}},\"User\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\",\"format\":\"int64\"},\"username\":{\"type\":\"string\"},\"firstName\":{\"type\":\"string\"},\"lastName\":{\"type\":\"string\"},\"email\":{\"type\":\"string\"},\"password\":{\"type\":\"string\"},\"phone\":{\"type\":\"string\"},\"userStatus\":{\"type\":\"integer\",\"format\":\"int32\",\"description\":\"User Status\"}},\"xml\":{\"name\":\"User\"}},\"Tag\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\",\"format\":\"int64\"},\"name\":{\"type\":\"string\"}},\"xml\":{\"name\":\"Tag\"}},\"Pet\":{\"type\":\"object\",\"required\":[\"name\",\"photoUrls\"],\"properties\":{\"id\":{\"type\":\"integer\",\"format\":\"int64\"},\"category\":{\"$ref\":\"#/definitions/Category\"},\"name\":{\"type\":\"string\",\"example\":\"doggie\"},\"photoUrls\":{\"type\":\"array\",\"xml\":{\"name\":\"photoUrl\",\"wrapped\":true},\"items\":{\"type\":\"string\"}},\"tags\":{\"type\":\"array\",\"xml\":{\"name\":\"tag\",\"wrapped\":true},\"items\":{\"$ref\":\"#/definitions/Tag\"}},\"status\":{\"type\":\"string\",\"description\":\"pet status in the store\",\"enum\":[\"available\",\"pending\",\"sold\"]}},\"xml\":{\"name\":\"Pet\"}},\"ApiResponse\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"integer\",\"format\":\"int32\"},\"type\":{\"type\":\"string\"},\"message\":{\"type\":\"string\"}}}},\"externalDocs\":{\"description\":\"Find out more about Swagger\",\"url\":\"http://swagger.io\"}}","/assets.test.js":"/* istanbul instrument in package utility2 */\n/* istanbul ignore next */\n/* jslint utility2:true */\n(function (globalThis) {\n    \"use strict\";\n    var consoleError;\n    var local;\n    // init globalThis\n    (function () {\n        try {\n            globalThis = Function(\"return this\")(); // jslint ignore:line\n        } catch (ignore) {}\n    }());\n    globalThis.globalThis = globalThis;\n    // init debug_inline\n    if (!globalThis[\"debug\\u0049nline\"]) {\n        consoleError = console.error;\n        globalThis[\"debug\\u0049nline\"] = function () {\n        /*\n         * this function will both print <arguments> to stderr\n         * and return <arguments>[0]\n         */\n            var argList;\n            argList = Array.from(arguments); // jslint ignore:line\n            // debug arguments\n            globalThis[\"debug\\u0049nlineArguments\"] = argList;\n            consoleError(\"\\n\\ndebug\\u0049nline\");\n            consoleError.apply(console, argList);\n            consoleError(\"\\n\");\n            // return arg0 for inspection\n            return argList[0];\n        };\n    }\n    // init local\n    local = {};\n    local.local = local;\n    globalThis.globalLocal = local;\n    // init isBrowser\n    local.isBrowser = (\n        typeof window === \"object\"\n        && window === globalThis\n        && typeof window.XMLHttpRequest === \"function\"\n        && window.document\n        && typeof window.document.querySelector === \"function\"\n    );\n    // init function\n    local.assertThrow = function (passed, message) {\n    /*\n     * this function will throw err.<message> if <passed> is falsy\n     */\n        var err;\n        if (passed) {\n            return;\n        }\n        err = (\n            // ternary-operator\n            (\n                message\n                && typeof message.message === \"string\"\n                && typeof message.stack === \"string\"\n            )\n            // if message is errObj, then leave as is\n            ? message\n            : new Error(\n                typeof message === \"string\"\n                // if message is a string, then leave as is\n                ? message\n                // else JSON.stringify message\n                : JSON.stringify(message, null, 4)\n            )\n        );\n        throw err;\n    };\n    local.functionOrNop = function (fnc) {\n    /*\n     * this function will if <fnc> exists,\n     * them return <fnc>,\n     * else return <nop>\n     */\n        return fnc || local.nop;\n    };\n    local.identity = function (value) {\n    /*\n     * this function will return <value>\n     */\n        return value;\n    };\n    local.nop = function () {\n    /*\n     * this function will do nothing\n     */\n        return;\n    };\n    local.objectAssignDefault = function (target, source) {\n    /*\n     * this function will if items from <target> are\n     * null, undefined, or empty-string,\n     * then overwrite them with items from <source>\n     */\n        target = target || {};\n        Object.keys(source || {}).forEach(function (key) {\n            if (\n                target[key] === null\n                || target[key] === undefined\n                || target[key] === \"\"\n            ) {\n                target[key] = target[key] || source[key];\n            }\n        });\n        return target;\n    };\n    // require builtin\n    if (!local.isBrowser) {\n        local.assert = require(\"assert\");\n        local.buffer = require(\"buffer\");\n        local.child_process = require(\"child_process\");\n        local.cluster = require(\"cluster\");\n        local.crypto = require(\"crypto\");\n        local.dgram = require(\"dgram\");\n        local.dns = require(\"dns\");\n        local.domain = require(\"domain\");\n        local.events = require(\"events\");\n        local.fs = require(\"fs\");\n        local.http = require(\"http\");\n        local.https = require(\"https\");\n        local.net = require(\"net\");\n        local.os = require(\"os\");\n        local.path = require(\"path\");\n        local.querystring = require(\"querystring\");\n        local.readline = require(\"readline\");\n        local.repl = require(\"repl\");\n        local.stream = require(\"stream\");\n        local.string_decoder = require(\"string_decoder\");\n        local.timers = require(\"timers\");\n        local.tls = require(\"tls\");\n        local.tty = require(\"tty\");\n        local.url = require(\"url\");\n        local.util = require(\"util\");\n        local.vm = require(\"vm\");\n        local.zlib = require(\"zlib\");\n    }\n}(this));\n\n\n\n(function (local) {\n\"use strict\";\n\n\n\n// run shared js-env code - init-before\n(function () {\n// init local\nlocal = (\n    globalThis.utility2 || require(\"./lib.utility2.js\")\n).requireReadme();\nglobalThis.local = local;\n// init test\nlocal.testRunDefault(local);\n}());\n\n\n\n// run shared js-env code - function\n(function () {\nlocal._testCase_testRunDefault_failure = function (opt, onError) {\n/*\n * this function will test testRunDefault's failure handling-behavior\n */\n    // test failure from callback handling-behavior\n    onError(local.errDefault);\n    // test failure from multiple-callback handling-behavior\n    onError(null, opt);\n    // test failure from ajax handling-behavior\n    local.ajax({\n        url: \"/undefined\"\n    }, onError);\n    // test failure from uncaught-uncaughtexception handling-behavior\n    setTimeout(local.throwError);\n    // test console.error handling-behavior\n    local.testMock([\n        [\n            globalThis, {\n                __coverage__: null\n            }\n        ]\n    ], function (onError) {\n        console.error();\n        onError(null, opt);\n    }, local.onErrorThrow);\n    // test failure from thrown err handling-behavior\n    throw local.errDefault;\n};\n\nlocal.testCase_FormData_default = function (opt, onError) {\n/*\n * this function will test FormData's default handling-behavior\n */\n    opt = {};\n    opt.blob1 = new local.Blob([\n        \"aa\", \"bb\", local.stringHelloEmoji, 0\n    ]);\n    opt.blob2 = new local.Blob([\n        \"aa\", \"bb\", local.stringHelloEmoji, 0\n    ], {\n        type: \"text/plain; charset=utf-8\"\n    });\n    opt.data = new local.FormData();\n    opt.data.append(\"text1\", \"aabb\" + local.stringHelloEmoji + \"0\");\n    // test file-upload handling-behavior\n    opt.data.append(\"file1\", opt.blob1);\n    // test file-upload and filename handling-behavior\n    opt.data.append(\"file2\", opt.blob2, \"filename2.txt\");\n    opt.method = \"POST\";\n    opt.url = \"/test.echo\";\n    local.ajax(opt, function (err, xhr) {\n        // validate no err occurred\n        local.assertThrow(!err, err);\n        // validate responseText\n        local.assertThrow(xhr.responseText.indexOf(\n            \"\\r\\nContent-Disposition: form-data; \"\n            + \"name=\\\"text1\\\"\\r\\n\\r\\naabbhello \\ud83d\\ude01\\n0\\r\\n\"\n        ) >= 0, xhr.responseText);\n        local.assertThrow(xhr.responseText.indexOf(\n            \"\\r\\nContent-Disposition: form-data; \"\n            + \"name=\\\"file1\\\"\\r\\n\\r\\naabbhello \\ud83d\\ude01\\n0\\r\\n\"\n        ) >= 0, xhr.responseText);\n        local.assertThrow(xhr.responseText.indexOf(\n            \"\\r\\nContent-Disposition: form-data; name=\\\"file2\\\"; \"\n            + \"filename=\\\"filename2.txt\\\"\\r\\nContent-Type: text/plain; \"\n            + \"charset=utf-8\\r\\n\\r\\naabbhello \\ud83d\\ude01\\n0\\r\\n\"\n        ) >= 0, xhr.responseText);\n        onError(null, opt);\n    });\n};\n\nlocal.testCase_FormData_err = function (opt, onError) {\n/*\n * this function will test FormData's err handling-behavior\n */\n    local.testMock([\n        [\n            local.FormData.prototype, {\n                read: function (onError) {\n                    onError(local.errDefault);\n                }\n            }\n        ]\n    ], function (onError) {\n        local.ajax({\n            data: new local.FormData(),\n            method: \"POST\",\n            url: \"/test.echo\"\n        }, function (err) {\n            // validate err occurred\n            local.assertThrow(err, err);\n            onError(null, opt);\n        });\n    }, onError);\n};\n\nlocal.testCase_FormData_nullCase = function (opt, onError) {\n/*\n * this function will test FormData's null-case handling-behavior\n */\n    local.ajax({\n        data: new local.FormData(),\n        method: \"POST\",\n        url: \"/test.echo\"\n    }, function (err, xhr) {\n        // validate no err occurred\n        local.assertThrow(!err, err);\n        // validate responseText\n        local.assertThrow((\n            /\\r\\n\\r\\n$/\n        ).test(xhr.responseText), xhr.responseText);\n        onError(null, opt);\n    });\n};\n\nlocal.testCase_ajaxProgressUpdate_default = function (opt, onError) {\n/*\n * this function will test ajaxProgressUpdate's default handling-behavior\n */\n    opt = 0;\n    local.testMock([\n        [\n            local, {\n                ajaxProgressCounter: 0,\n                ajaxProgressState: 0\n            }\n        ], [\n            globalThis, {\n                setTimeout: function (fnc) {\n                    opt += 1;\n                    local.ajaxProgressState = opt % 3;\n                    fnc();\n                }\n            }\n        ]\n    ], function (onError) {\n        // update ajax-progress\n        local.ajaxProgressUpdate();\n        // validate data\n        local.assertJsonEqual(local.ajaxProgressCounter, 0);\n        local.assertJsonEqual(local.ajaxProgressState, 2);\n        // update ajax-progress\n        local.ajaxProgressUpdate();\n        // validate data\n        local.assertJsonEqual(local.ajaxProgressCounter, 0);\n        local.assertJsonEqual(local.ajaxProgressState, 1);\n        // update ajax-progress\n        local.ajaxProgressUpdate();\n        // validate data\n        local.assertJsonEqual(local.ajaxProgressCounter, 0);\n        local.assertJsonEqual(local.ajaxProgressState, 0);\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_ajax_cache = function (opt, onError) {\n/*\n * this function will test ajax's cache handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    opt = {};\n    local.onNext(opt, function (err, data) {\n        switch (opt.modeNext) {\n        case 1:\n            // test http GET handling-behavior\n            local.ajax({\n                url: \"assets.hello.txt\"\n            }, opt.onNext);\n            break;\n        case 2:\n            // validate responseText\n            local.assertJsonEqual(data.responseText, local.stringHelloEmoji);\n            // test http GET 304 cache handling-behavior\n            local.ajax({\n                headers: {\n                    \"If-Modified-Since\": (\n                        new Date(Date.now() + 0xffff).toUTCString()\n                    )\n                },\n                url: \"assets.hello.txt\"\n            }, opt.onNext);\n            break;\n        case 3:\n            // validate statusCode\n            local.assertJsonEqual(data.statusCode, 304);\n            opt.onNext();\n            break;\n        default:\n            onError(err, opt);\n        }\n    });\n    opt.modeNext = 0;\n    opt.onNext();\n};\n\nlocal.testCase_ajax_default = function (opt, onError) {\n/*\n * this function will test ajax's default handling-behavior\n */\n    var onParallel;\n    onParallel = local.onParallel(onError);\n    onParallel.counter += 1;\n\n    // test ajax's abort handling-behavior\n    onParallel.counter += 1;\n    local.onParallelList({\n        list: [\n            \"\",\n            \"arraybuffer\",\n            \"blob\",\n            \"text\"\n        ]\n    }, function (responseType, onParallel) {\n        responseType = responseType.elem;\n        onParallel.counter += 1;\n        local.ajax({\n            data: (\n                responseType === \"arraybuffer\"\n                // test POST buffer-data handling-behavior\n                ? new TextEncoder().encode(local.stringHelloEmoji)\n                : responseType === \"blob\"\n                // test POST blob-data handling-behavior\n                ? new local.Blob([\n                    \"\",\n                    new Uint8Array(0),\n                    local.stringHelloEmoji\n                ])\n                // test POST string-data handling-behavior\n                : local.stringHelloEmoji\n            ),\n            method: \"POST\",\n            // test nodejs-res handling-behavior\n            responseType: responseType.replace(\"blob\", \"arraybuffer\"),\n            url: \"/test.body\"\n        }, function (err, xhr) {\n            // validate no err occurred\n            local.assertThrow(!err, err);\n            // validate statusCode\n            local.assertJsonEqual(xhr.statusCode, 200);\n            // validate responseText\n            switch (responseType) {\n            case \"arraybuffer\":\n            case \"blob\":\n                local.assertJsonEqual(xhr.responseBuffer.byteLength, 11);\n                local.assertJsonEqual(Array.from(xhr.responseBuffer), [\n                    0x68,\n                    0x65,\n                    0x6c,\n                    0x6c,\n                    0x6f,\n                    0x20,\n                    0xf0,\n                    0x9f,\n                    0x98,\n                    0x81,\n                    0x0a\n                ]);\n                break;\n            default:\n                local.assertJsonEqual(xhr.responseText, local.stringHelloEmoji);\n            }\n            onParallel(null, opt);\n        });\n    }, onParallel);\n\n    // test ajax's data handling-behavior\n    onParallel.counter += 1;\n    opt = local.ajax({\n        url: \"/test.timeout\"\n    }, function (err, xhr) {\n        // validate err occurred\n        local.assertThrow(err, err);\n        // validate statusCode\n        local.assertJsonEqual(xhr.statusCode, 500);\n        onParallel(null, opt);\n    });\n    // test multiple-callback handling-behavior\n    opt.onEvent({\n        type: \"abort\"\n    });\n    opt.abort();\n    opt.abort();\n\n    // test ajax's echo handling-behavior\n    onParallel.counter += 1;\n    local.ajax({\n        _aa: \"aa\",\n        aa: \"aa\",\n        data: local.stringHelloEmoji,\n        // test req-header handling-behavior\n        headers: {\n            \"X-Req-Header-Test\": \"aa\"\n        },\n        method: \"POST\",\n        // test modeDebug handling-behavior\n        modeDebug: true,\n        url: \"/test.echo\"\n    }, function (err, xhr) {\n        // validate no err occurred\n        local.assertThrow(!err, err);\n        // validate statusCode\n        local.assertJsonEqual(xhr.statusCode, 200);\n        // validate resHeaders\n        local.assertJsonEqual(xhr.resHeaders[\"x-res-header-test\"], \"bb\");\n        // validate responseText\n        local.assertThrow((\n            /\\r\\nhello\\u0020\\ud83d\\ude01\\n$/\n        ).test(xhr.responseText), xhr.responseText);\n        local.assertThrow((\n            /\\r\\nx-req-header-test:\\u0020aa\\r\\n/\n        ).test(xhr.responseText), xhr.responseText);\n        // validate properties\n        local.assertJsonEqual(xhr._aa, undefined);\n        local.assertJsonEqual(xhr.aa, \"aa\");\n        onParallel(null, opt);\n    });\n\n    // test ajax's err handling-behavior\n    onParallel.counter += 1;\n    local.onParallelList({\n        list: [\n            {\n                // test 404-not-found handling-behavior\n                url: \"/test.err-404\"\n            }, {\n                // test 500-internal-server-error handling-behavior\n                url: \"/test.err-500\"\n            }, {\n                // test undefined-status-code handling-behavior\n                url: \"/test.err-undefined\"\n            }, {\n                // test corsForwardProxyHost handling-behavior\n                corsForwardProxyHost: \"https://undefined:0\",\n                location: {\n                    host: \"undefined.github.io\"\n                },\n                timeout: 1,\n                // test undefined-https-url handling-behavior\n                url: \"https://undefined:0\"\n            }\n        ]\n    }, function (option2, onParallel) {\n        onParallel.counter += 1;\n        local.ajax(option2.elem, function (err) {\n            // validate err occurred\n            local.assertThrow(err, err);\n            onParallel(null, opt);\n        });\n    }, onParallel);\n\n    // test ajax's file handling-behavior\n    onParallel.counter += 1;\n    local.ajax({\n        url: \"LICENSE\"\n    }, function (err, xhr) {\n        // validate no err occurred\n        local.assertThrow(!err, err);\n        // validate statusCode\n        local.assertJsonEqual(xhr.statusCode, 200);\n        // validate responseText\n        local.assertThrow(xhr.responseText.indexOf(\n            \"MIT License (https://opensource.org/licenses/MIT)\\n\\n\"\n        ) === 0, xhr.data);\n        onParallel(null, opt);\n    });\n\n    // test ajax's standalone handling-behavior\n    onParallel.counter += 1;\n    local.testMock([\n        [\n            local, {\n                utility2: null\n            }\n        ]\n    ], function (onError) {\n        [\n            \"\", \"arraybuffer\"\n        ].forEach(function (responseType) {\n            // test default handling-behavior\n            onParallel.counter += 1;\n            local.ajax({\n                responseType,\n                url: (\n                    local.isBrowser\n                    ? location.href\n                    : local.serverLocalHost\n                )\n            }, function (err, xhr) {\n                // validate no err occurred\n                local.assertThrow(!err, err);\n                // validate statusCode\n                local.assertJsonEqual(xhr.statusCode, 200);\n                onParallel();\n            });\n            // test err handling-behavior\n            onParallel.counter += 1;\n            local.ajax({\n                responseType,\n                undefined,\n                url: (\n                    local.isBrowser\n                    ? location.href.replace((\n                        /\\?.*$/\n                    ), \"\")\n                    : local.serverLocalHost\n                ) + \"/undefined\"\n            }, function (err, xhr) {\n                // validate err occurred\n                local.assertThrow(err, err);\n                // validate statusCode\n                local.assertJsonEqual(xhr.statusCode, 404);\n                onParallel();\n            });\n        });\n        onError(null, opt);\n    }, onParallel);\n    onParallel();\n\n    // test ajax's timeout handling-behavior\n    onParallel.counter += 1;\n    setTimeout(function () {\n        local.ajax({\n            timeout: 1,\n            url: \"/test.timeout\"\n        }, function (err, xhr) {\n            // validate err occurred\n            local.assertThrow(err, err);\n            // validate statusCode\n            local.assertJsonEqual(xhr.statusCode, 500);\n            onParallel(null, opt);\n        });\n    }, 1000);\n};\n\nlocal.testCase_assertXxx_default = function (opt, onError) {\n/*\n * this function will test assertXxx's default handling-behavior\n */\n    // test assertion passed\n    local.assertThrow(true, true);\n    // test assertion failed with undefined message\n    local.tryCatchOnError(function () {\n        local.assertThrow(null);\n    }, function (err) {\n        // validate err occurred\n        local.assertThrow(err, err);\n        // validate err.message\n        local.assertJsonEqual(err.message, \"\");\n    });\n    // test assertion failed with string message\n    local.tryCatchOnError(function () {\n        local.assertThrow(null, \"aa\");\n    }, function (err) {\n        // validate err occurred\n        local.assertThrow(err, err);\n        // validate err.message\n        local.assertJsonEqual(err.message, \"aa\");\n    });\n    // test assertion failed with errObj\n    local.tryCatchOnError(function () {\n        local.assertThrow(null, local.errDefault);\n    }, function (err) {\n        // validate err occurred\n        local.assertThrow(err, err);\n    });\n    // test assertion failed with json object\n    local.tryCatchOnError(function () {\n        local.assertThrow(null, {\n            aa: 1\n        });\n    }, function (err) {\n        // validate err occurred\n        local.assertThrow(err, err);\n        // validate err.message\n        local.assertJsonEqual(err.message, \"{\\n    \\\"aa\\\": 1\\n}\");\n    });\n    [\n        \"\", 0, false, null, undefined\n    ].forEach(function (aa, ii) {\n        [\n            \"\", 0, false, null, undefined\n        ].forEach(function (bb, jj) {\n            if (ii === jj) {\n                // test assertJsonEqual's handling-behavior\n                local.assertJsonEqual(aa, bb);\n            } else {\n                // test assertJsonNotEqual's handling-behavior\n                local.assertJsonNotEqual(aa, bb);\n            }\n        });\n    });\n    onError(null, opt);\n};\n\nlocal.testCase_base64Xxx_default = function (opt, onError) {\n/*\n * this function will test base64Xxx's default handling-behavior\n */\n    opt = {};\n    opt.base64 = local.base64FromBuffer(\n        local.stringCharsetAscii + local.stringHelloEmoji\n    );\n    // test null-case handling-behavior\n    local.assertJsonEqual(local.base64FromBuffer(), \"\");\n    local.assertJsonEqual(local.bufferToUtf8(local.base64ToBuffer()), \"\");\n    local.assertJsonEqual(local.base64ToUtf8(), \"\");\n    local.assertJsonEqual(local.base64FromBuffer(local.base64ToBuffer()), \"\");\n    local.assertJsonEqual(local.base64FromBuffer(local.base64ToUtf8()), \"\");\n    // test identity handling-behavior\n    local.assertJsonEqual(\n        local.base64FromBuffer(local.base64ToBuffer(opt.base64)),\n        opt.base64\n    );\n    local.assertJsonEqual(\n        local.base64FromBuffer(local.base64ToUtf8(opt.base64)),\n        opt.base64\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_blobRead_default = function (opt, onError) {\n/*\n * this function will test blobRead's default handling-behavior\n */\n    var onParallel;\n    onParallel = local.onParallel(onError);\n    onParallel.counter += 1;\n    // test data handling-behavior\n    onParallel.counter += 1;\n    local.blobRead(new local.Blob([\n        \"\",\n        \"aa\",\n        \"bb\",\n        new Uint8Array(0),\n        local.stringHelloEmoji\n    ]), function (err, data) {\n        // validate no err occurred\n        local.assertThrow(!err, err);\n        // validate data\n        local.assertJsonEqual(\n            local.bufferToUtf8(data),\n            \"aabbhello \\ud83d\\ude01\\n\"\n        );\n        onParallel(null, opt);\n    });\n    if (!local.isBrowser) {\n        onParallel(null, opt);\n        return;\n    }\n    // test err handling-behavior\n    onParallel.counter += 1;\n    local.testMock([\n        [\n            FileReader.prototype, {\n                readAsArrayBuffer: function () {\n                    this.onabort({\n                        type: \"abort\"\n                    });\n                    this.onerror({\n                        type: \"error\"\n                    });\n                }\n            }\n        ]\n    ], function (onError) {\n        local.blobRead(null, function (err) {\n            // validate err occurred\n            local.assertThrow(err, err);\n        });\n        onError(null, opt);\n    }, onParallel);\n    onParallel();\n};\n\nlocal.testCase_browserTest_electron = function (opt, onError) {\n/*\n * this function will test browserTest's electron handling-behavior\n */\n    opt = function (aa, bb, cc) {\n        [\n            aa, bb, cc\n        ].forEach(function (fnc, ii) {\n            if (typeof fnc === \"function\") {\n                fnc(ii && opt);\n                opt.onNext(null, opt);\n                opt.utility2_testReportSave();\n            }\n        });\n        return opt;\n    };\n    [\n        \"BrowserWindow\",\n        \"addEventListener\",\n        \"app\",\n        \"browserWindow\",\n        \"capturePage\",\n        \"document\",\n        \"documentElement\",\n        \"electron\",\n        \"fileCoverage\",\n        \"fileElectronHtml\",\n        \"fileScreenshot\",\n        \"fileTestReport\",\n        \"fs\",\n        \"ipcRenderer\",\n        \"loadURL\",\n        \"modeCoverageMerge\",\n        \"on\",\n        \"once\",\n        \"process\",\n        \"prototype\",\n        \"rename\",\n        \"send\",\n        \"toPNG\",\n        \"unref\",\n        \"window\",\n        \"writeFile\"\n    ].forEach(function (key) {\n        opt[key] = (\n            key.indexOf(\"file\") === 0\n            ? \"undefined\"\n            : opt\n        );\n    });\n    opt.ipcMain = {\n        on: function (_, fnc) {\n            [\"html\", \"testReport\", \"undefined\"].forEach(function (type) {\n                [\n                    \"<div></div>\",\n                    null,\n                    {}, {\n                        testPlatformList: [\n                            {}\n                        ]\n                    }, {\n                        coverage: {},\n                        testPlatformList: [\n                            {}\n                        ]\n                    }\n                ].forEach(function (data) {\n                    opt.isDoneTestReport = null;\n                    fnc(_, type, data);\n                });\n            });\n        }\n    };\n    opt.utility2_testReportSave = local.nop;\n    local.testMock([\n        [\n            globalThis, {\n                setTimeout: opt,\n                utility2_testReport: null\n            }\n        ], [\n            local, {\n                fs: opt,\n                fsReadFileOrEmptyStringSync: function () {\n                    return \"\";\n                },\n                fsWriteFileWithMkdirpSync: opt,\n                onParallel: opt\n            }\n        ]\n    ], function (onError) {\n        [\n            \"test\", \"undefined\"\n        ].forEach(function (modeBrowserTest) {\n            [\n                1, 10, 11, 20, 100\n            ].forEach(function (modeNext) {\n                opt.modeBrowserTest = modeBrowserTest;\n                opt.modeNext = modeNext;\n                switch (modeNext) {\n                case 100:\n                    local.tryCatchOnError(function () {\n                        local.browserTest({\n                            modeNext\n                        }, opt);\n                    }, local.nop);\n                    break;\n                default:\n                    local.browserTest(opt, opt);\n                }\n            });\n        });\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_browserTest_screenshot = function (opt, onError) {\n/*\n * this function will test browserTest's screenshot handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.browserTest({\n        modeBrowserTest: \"screenshot\",\n        timeoutDefault: 20000,\n        url: \"tmp/build/test-report.html\"\n    }, onError);\n};\n\nlocal.testCase_bufferIndexOfSubBuffer_default = function (opt, onError) {\n/*\n * this function will test bufferIndexOfSubBuffer's default handling-behavior\n */\n[\n    {\n        buffer: \"\",\n        subBuffer: \"\",\n        validate: 0\n    }, {\n        buffer: \"\",\n        subBuffer: \"aa\",\n        validate: -1\n    }, {\n        buffer: \"aa\",\n        subBuffer: \"\",\n        validate: 0\n    }, {\n        buffer: \"aa\",\n        subBuffer: \"aa\",\n        validate: 0\n    }, {\n        buffer: \"aa\",\n        subBuffer: \"bb\",\n        validate: -1\n    }, {\n        buffer: \"aaaa\",\n        subBuffer: \"aa\",\n        validate: 0\n    }, {\n        buffer: \"aabb\",\n        subBuffer: \"aa\",\n        validate: 0\n    }, {\n        buffer: \"aabb\",\n        subBuffer: \"bb\",\n        validate: 2\n    }, {\n        buffer: \"aabbaa\",\n        subBuffer: \"aa\",\n        validate: 0\n    }, {\n        buffer: \"aabbaa\",\n        subBuffer: \"bb\",\n        validate: 2\n    }, {\n        buffer: \"aabbaa\",\n        subBuffer: \"ba\",\n        validate: 3\n    }\n].forEach(function (opt) {\n    local.assertJsonEqual(local.bufferIndexOfSubBuffer(\n        new TextEncoder().encode(opt.buffer),\n        new TextEncoder().encode(opt.subBuffer),\n        opt.fromIndex\n    ), opt.validate);\n});\nonError(null, opt);\n};\n\nlocal.testCase_bufferValidateAndCoerce_err = function (opt, onError) {\n/*\n * this function will test bufferValidateAndCoerce's err handling-behavior\n */\n    [[], 0, {}].forEach(function (elem) {\n        opt = null;\n        try {\n            local.bufferValidateAndCoerce(elem);\n        } catch (errCaught) {\n            opt = errCaught;\n        }\n        // validate err occurred\n        local.assertThrow(opt, elem);\n    });\n    onError(null, opt);\n};\n\nlocal.testCase_buildApidoc_default = function (opt, onError) {\n/*\n * this function will test buildApidoc's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    // test $npm_config_mode_coverage=all handling-behavior\n    local.testMock([\n        [\n            local.env, {\n                npm_config_mode_coverage: \"all\"\n            }\n        ]\n    ], function (onError) {\n        local.buildApidoc(null, onError);\n    }, local.onErrorThrow);\n    local.buildApidoc({\n        blacklistDict: {}\n    }, onError);\n};\n\nlocal.testCase_buildApp_default = function (opt, onError) {\n/*\n * this function will test buildApp's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.testCase_buildReadme_default(opt, local.onErrorThrow);\n    local.testCase_buildLib_default(opt, local.onErrorThrow);\n    local.testCase_buildTest_default(opt, local.onErrorThrow);\n    local.buildApp({\n        assetsList: [\n            {\n                file: \"/assets.hello.txt\",\n                url: \"/assets.hello.txt\"\n            }, {\n                file: \"/assets.script_only.html\",\n                url: \"/assets.script_only.html\"\n            }, {\n                file: \"/assets.utility2.lib.db.js\",\n                url: \"/assets.utility2.lib.db.js\"\n            }, {\n                file: \"/assets.utility2.lib.istanbul.js\",\n                url: \"/assets.utility2.lib.istanbul.js\"\n            }, {\n                file: \"/assets.utility2.lib.jslint.js\",\n                url: \"/assets.utility2.lib.jslint.js\"\n            }, {\n                file: \"/assets.utility2.lib.marked.js\",\n                url: \"/assets.utility2.lib.marked.js\"\n            }, {\n                file: \"/assets.utility2.lib.sjcl.js\",\n                url: \"/assets.utility2.lib.sjcl.js\"\n            }, {\n                file: \"/assets.utility2.rollup.js\",\n                url: \"/assets.utility2.rollup.js\"\n            }\n        ]\n    }, onError);\n};\n\nlocal.testCase_buildLib_default = function (opt, onError) {\n/*\n * this function will test buildLib's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.testMock([\n        [\n            local, {\n                // test duplicate local function handling-behavior\n                fsReadFileOrEmptyStringSync: function () {\n                    return (\n                        \"local.nop = function () {\\n\"\n                        + \"/*\\n\"\n                        + \" * this function will do nothing\\n\"\n                        + \" */\\n\"\n                        + \"    return;\\n\"\n                        + \"};\\n\"\n                        + \"local.nop = function () {\\n\"\n                        + \"/*\\n\"\n                        + \" * this function will do nothing\\n\"\n                        + \" */\\n\"\n                        + \"    return;\\n\"\n                        + \"};\\n\"\n                    );\n                },\n                templateRenderMyApp: function () {\n                    return local.assetsDict[\"/assets.my_app.template.js\"];\n                }\n            }\n        ], [\n            local.fs, {\n                // test customize-local handling-behavior\n                existsSync: function () {\n                    return true;\n                },\n                writeFileSync: local.nop\n            }\n        ]\n    ], function (onError) {\n        local.buildLib({}, onError);\n    }, local.onErrorThrow);\n    local.buildLib({}, onError);\n};\n\nlocal.testCase_buildReadme_default = function (opt, onError) {\n/*\n * this function will test buildReadme's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    opt = {};\n    // test shNpmTestPublished handling-behavior\n    opt.dataFrom = local.fs.readFileSync(\"README.md\", \"utf8\").replace(\n        \"#\\u0021! shNpmTestPublished\",\n        \"shNpmTestPublished\"\n    );\n    opt = {};\n    opt.customize = function () {\n        // search-and-replace - customize dataTo\n        [\n            // customize quickstart-example-js\n            (\n                /#\\u0020quickstart\\u0020example.js[\\S\\s]*?istanbul\\u0020instrument\\u0020in\\u0020package/\n            ),\n            // customize quickstart-footer\n            (\n                />download\\u0020standalone\\u0020app<[^`]*?\"utility2FooterDiv\"/\n            ), (\n                /```[^`]*?\\n#\\u0020extra\\u0020screenshots/\n            ),\n            // customize build-script\n            (\n                /\\n#\\u0020internal\\u0020build\\u0020script\\n[\\S\\s]*?\\nshBuildCi\\n/\n            )\n        ].forEach(function (rgx) {\n            opt.dataFrom.replace(rgx, function (match0) {\n                opt.dataTo = opt.dataTo.replace(rgx, match0);\n            });\n        });\n    };\n    local.buildReadme(opt, onError);\n};\n\nlocal.testCase_buildXxx_default = function (opt, onError) {\n/*\n * this function will test buildXxx's default handling-behavior\n */\n    local.testMock([\n        [\n            local, {\n                assetsDict: {\n                    \"/\": \"\"\n                },\n                browserTest: local.nop,\n                buildApidoc: local.nop,\n                buildLib: local.nop,\n                buildReadme: local.nop,\n                buildTest: local.nop,\n                testCase_buildReadme_default: local.nop,\n                testCase_buildLib_default: local.nop,\n                testCase_buildTest_default: local.nop\n            }\n        ]\n    ], function (onError) {\n        local._testCase_buildApidoc_default(null, local.nop);\n        local._testCase_buildApp_default(null, local.nop);\n        local._testCase_buildLib_default(null, local.nop);\n        local._testCase_buildReadme_default(null, local.nop);\n        local._testCase_buildTest_default(null, local.nop);\n        local._testCase_webpage_default(null, local.nop);\n        local.assetsDict[\"/\"] = \"<script src=\\\"assets.test.js\\\"></script>\";\n        local._testCase_webpage_default(null, local.nop);\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_childProcessSpawnWithTimeout_default = function (\n    opt,\n    onError\n) {\n/*\n * this function will test\n * childProcessSpawnWithTimeout's default handling-behavior\n */\n    var onParallel;\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    opt = {};\n    onParallel = local.onParallel(onError);\n    onParallel.counter += 1;\n    // test default handling-behavior\n    onParallel.counter += 1;\n    local.childProcessSpawnWithTimeout(\"ls\").on(\n        \"error\",\n        onParallel\n    ).on(\"exit\", function (exitCode, signal) {\n        // validate exitCode\n        local.assertJsonEqual(exitCode, 0);\n        // validate signal\n        local.assertJsonEqual(signal, null);\n        onParallel(null, opt);\n    });\n    // test timeout handling-behavior\n    onParallel.counter += 1;\n    local.testMock([\n        [\n            local, {\n                timeoutDefault: 1000\n            }\n        ]\n    ], function (onError) {\n        opt.childProcess = (\n            local.childProcessSpawnWithTimeout(\"sleep\", [\n                5000\n            ])\n        );\n        onError(null, opt);\n    }, local.onErrorThrow);\n    opt.childProcess\n    .on(\"error\", onParallel)\n    .on(\"exit\", function (exitCode, signal) {\n        // validate exitCode\n        local.assertJsonEqual(exitCode, null);\n        // validate signal\n        local.assertJsonEqual(signal, \"SIGKILL\");\n        onParallel(null, opt);\n    });\n    onParallel(null, opt);\n};\n\nlocal.testCase_childProcessSpawnWithUtility2_err = function (\n    opt,\n    onError\n) {\n/*\n * this function will test\n * childProcessSpawnWithTimeout's err handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.testMock([\n        // test __dirname handling-behavior\n        [\n            process.env, {\n                npm_config_dir_utility2: \"\"\n            }\n        ]\n    ], function (onError) {\n        local.local.childProcessSpawnWithUtility2(\"undefined\", function (err) {\n            // validate err occurred\n            local.assertThrow(err, err);\n        });\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_cliRun_default = function (opt, onError) {\n/*\n * this function will test cliRun's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.testMock([\n        [\n            local, {\n                replStart: null\n            }\n        ], [\n            local.cliDict, {\n                _default: local.nop,\n                _help: null\n            }\n        ], [\n            local.repl, {\n                start: local.nop\n            }\n        ], [\n            local.vm, {\n                runInThisContext: local.nop\n            }\n        ], [\n            process, {\n                argv: []\n            }\n        ]\n    ], function (onError) {\n        // test default handling-behavior\n        local.cliRun({\n            rgxComment: (\n                /^/\n            )\n        });\n        // test builtin handling-behavior\n        [\n            \"--eval\",\n            \"--help\",\n            \"--interactive\",\n            \"--version\",\n            \"undefined\"\n        ].forEach(function (key) {\n            process.argv[2] = key;\n            local.cliRun();\n        });\n        // test err handling-behavior\n        local.cliDict._default = null;\n        local.cliDict._help = null;\n        local.tryCatchOnError(local.cliRun, local.nop);\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_corsBackendHostInject_default = function (opt, onError) {\n/*\n * this function will corsBackendHostInject's default handling-behavior\n */\n    // test null-case handling-behavior\n    local.assertJsonEqual(local.corsBackendHostInject(), undefined);\n    // test override-all handling-behavior\n    local.assertJsonEqual(local.corsBackendHostInject(\n        \"cc.com\",\n        \"aa-alpha.bb.com\",\n        null,\n        {\n            host: \"github.io\",\n            pathname: \"/build..beta..travis-ci.org/\"\n        }\n    ), \"aa-beta.bb.com\");\n    // test override-rgx handling-behavior\n    local.assertJsonEqual(local.corsBackendHostInject(\n        \"cc/dd\",\n        \"aa-alpha.bb.com/\",\n        (\n            /(^cc\\/)/m\n        ),\n        {\n            host: \"github.io\",\n            pathname: \"/build..beta..travis-ci.org/\"\n        }\n    ), \"aa-beta.bb.com/cc/dd\");\n    onError(null, opt);\n};\n\nlocal.testCase_corsForwardProxyHostIfNeeded_default = function (\n    opt,\n    onError\n) {\n/*\n * this function will corsForwardProxyHostIfNeeded's default handling-behavior\n */\n    if (!local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.assertThrow(local.corsForwardProxyHostIfNeeded({\n        location: {\n            host: \"undefined.github.io\"\n        },\n        url: \"https://example.com\"\n    }).indexOf(\".herokuapp.com\") >= 0);\n    onError(null, opt);\n};\n\n/* istanbul ignore next */\nlocal.testCase_cryptoAesXxxCbcRawXxx_default = function (opt, onError) {\n/*\n * this function will cryptoAesXxxCbcRawXxx's default handling-behavior\n */\n    if (!local.nop()) {\n        onError();\n        return;\n    }\n    opt = {};\n    local.onNext(opt, function (err, data) {\n        switch (opt.modeNext) {\n        case 1:\n            // encrypt data\n            opt.data = new TextEncoder().encode(\"aa\");\n            opt.key = \"0123456789abcdef0123456789abcdef\";\n            opt.mode = null;\n            local.cryptoAesXxxCbcRawEncrypt(opt, opt.onNext);\n            break;\n        case 2:\n            // decrypt data\n            opt.data = data.buffer;\n            local.cryptoAesXxxCbcRawDecrypt(opt, opt.onNext);\n            break;\n        case 3:\n            // validate data\n            local.assertJsonEqual(local.bufferToUtf8(data), \"aa\");\n            opt.onNext();\n            break;\n        case 4:\n            // encrypt data - base64\n            opt.data = new TextEncoder().encode(\"aa\");\n            opt.key = (\n                \"0123456789abcdef0123456789abcdef\"\n                + \"0123456789abcdef0123456789abcdef\"\n            );\n            opt.mode = \"base64\";\n            local.cryptoAesXxxCbcRawEncrypt(opt, opt.onNext);\n            break;\n        case 5:\n            // decrypt data - base64\n            opt.data = data;\n            local.cryptoAesXxxCbcRawDecrypt(opt, opt.onNext);\n            break;\n        case 6:\n            // validate data\n            local.assertJsonEqual(local.bufferToUtf8(data), \"aa\");\n            opt.onNext();\n            break;\n        default:\n            onError(err, opt);\n        }\n    });\n    opt.modeNext = 0;\n    opt.onNext();\n};\n\nlocal.testCase_domFragmentRender_default = function (opt, onError) {\n/*\n * this function will test domFragmentRender's default handling-behavior\n */\n    if (!local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.assertJsonEqual(local.domFragmentRender(\"<div>{{value}}</div>\", {\n        value: \"aa\"\n    }).children[0].outerHTML, \"<div>aa</div>\");\n    onError(null, opt);\n};\n\nlocal.testCase_exit_err = function (opt, onError) {\n/*\n * this function will test exit's err handling-behavior\n */\n    local.exit(\"invalid-exitCode\");\n    onError(null, opt);\n};\n\nlocal.testCase_fsWriteFileWithMkdirpSync_default = function (opt, onError) {\n/*\n * this function will test\n * fsWriteFileWithMkdirpSync's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.fsRmrSync(\"tmp/build/testCase_fsWriteFileWithMkdirpSync_default\");\n    // validate data\n    local.assertJsonEqual(local.fsReadFileOrEmptyStringSync(\n        \"tmp/build/testCase_fsWriteFileWithMkdirpSync_default/aa.txt\",\n        \"utf8\"\n    ), \"\");\n    local.fsWriteFileWithMkdirpSync(\n        \"tmp/build/testCase_fsWriteFileWithMkdirpSync_default/aa.txt\",\n        \"aa\"\n    );\n    // validate data\n    local.assertJsonEqual(local.fsReadFileOrEmptyStringSync(\n        \"tmp/build/testCase_fsWriteFileWithMkdirpSync_default/aa.txt\",\n        \"utf8\"\n    ), \"aa\");\n    onError(null, opt);\n};\n\nlocal.testCase_isNullOrUndefined_default = function (opt, onError) {\n/*\n * this function will test isNullOrUndefined's default handling-behavior\n */\n    // validate data\n    local.assertJsonEqual(local.isNullOrUndefined(null), true);\n    // validate data\n    local.assertJsonEqual(local.isNullOrUndefined(undefined), true);\n    // validate data\n    local.assertJsonEqual(local.isNullOrUndefined(false), false);\n    onError(null, opt);\n};\n\nlocal.testCase_jsonCopy_default = function (opt, onError) {\n/*\n * this function will test jsonCopy's default handling-behavior\n */\n// test various data-type handling-behavior\n[\n    undefined, null, false, true, 0, 1, 1.5, \"a\"\n].forEach(function (elem) {\n    local.assertJsonEqual(local.jsonCopy(elem), elem);\n});\nonError(null, opt);\n};\n\nlocal.testCase_jsonStringifyOrdered_default = function (opt, onError) {\n/*\n * this function will test jsonStringifyOrdered's default handling-behavior\n */\n    // test data-type handling-behavior\n    local.identity([\n        undefined,\n        null,\n        false,\n        true,\n        0,\n        1,\n        1.5,\n        \"a\",\n        {},\n        []\n    ]).forEach(function (data) {\n        local.assertJsonEqual(\n            local.jsonStringifyOrdered(data),\n            JSON.stringify(data)\n        );\n    });\n    // test data-ordering handling-behavior\n    opt = {\n        // test nested dict handling-behavior\n        ff: {\n            hh: 2,\n            gg: 1\n        },\n        // test nested array handling-behavior\n        ee: [\n            1, null, undefined\n        ],\n        dd: local.nop,\n        cc: undefined,\n        bb: null,\n        aa: 1\n    };\n    // test circular-reference handling-behavior\n    opt.zz = opt;\n    local.assertJsonEqual(\n        opt,\n        {\n            aa: 1,\n            bb: null,\n            ee: [\n                1, null, null\n            ],\n            ff: {\n                gg: 1,\n                hh: 2\n            }\n        }\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_jwtAes256GcmXxx_default = function (opt, onError) {\n/*\n * this function will test jwtAes256GcmXxx's default handling-behavior\n */\n    opt = {};\n    opt.key = local.jwtAes256KeyCreate();\n    // use canonical example at https://jwt.io/\n    opt.data = JSON.parse(local.jsonStringifyOrdered(local.normalizeJwt({\n        sub: \"1234567890\",\n        name: \"John Doe\",\n        admin: true\n    })));\n    // encrypt token\n    opt.token = local.jwtAes256GcmEncrypt(opt.data, opt.key);\n    // validate encrypted-token\n    local.assertJsonEqual(\n        local.jwtAes256GcmDecrypt(opt.token, opt.key),\n        opt.data\n    );\n    // test decryption-failed handling-behavior\n    local.assertJsonEqual(local.jwtAes256GcmDecrypt(opt.token, null), {});\n    onError(null, opt);\n};\n\nlocal.testCase_jwtHs256Xxx_default = function (opt, onError) {\n/*\n * this function will test jwtHs256Xxx's default handling-behavior\n */\n    opt = {};\n    opt.key = local.normalizeJwtBase64Url(local.base64FromBuffer(\"secret\"));\n    // use canonical example at https://jwt.io/\n    opt.data = {\n        sub: \"1234567890\",\n        name: \"John Doe\",\n        admin: true\n    };\n    opt.token = local.jwtHs256Encode(opt.data, opt.key);\n    // validate encoded-token\n    local.assertJsonEqual(\n        opt.token,\n        (\n            \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\"\n            + \".eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZ\"\n            + \"SI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9\"\n            + \".TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\"\n        )\n    );\n    // validate decoded-data\n    local.assertJsonEqual(\n        local.jwtHs256Decode(opt.token, opt.key),\n        {\n            admin: true,\n            name: \"John Doe\",\n            sub: \"1234567890\"\n        }\n    );\n    // test decoding-failed handling-behavior\n    local.assertJsonEqual(local.jwtHs256Decode(opt.token, \"undefined\"), {});\n    onError(null, opt);\n};\n\nlocal.testCase_libUtility2Js_standalone = function (opt, onError) {\n/*\n * this function will test lib.utility2.js's standalone handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.fs.writeFileSync(\"tmp/lib.utility2.js\", local.fs.readFileSync(\n        \"lib.utility2.js\",\n        \"utf8\"\n    ).replace(\"/* istanbul instrument in package utility2 */\", \"\"));\n    require(\"./tmp/lib.utility2.js\");\n    onError(null, opt);\n};\n\nlocal.testCase_listGetElementRandom_default = function (opt, onError) {\n/*\n * this function will test listGetRandom's default handling-behavior\n */\n    opt = {};\n    // init list\n    opt.list = [\n        \"aa\", \"bb\", \"cc\", \"dd\"\n    ];\n    opt.elemDict = {};\n    // get 1000 random elem from list\n    opt.ii = 0;\n    while (opt.ii < 1000) {\n        opt.elemDict[local.listGetElementRandom(opt.list)] = true;\n        opt.ii += 1;\n    }\n    // validate all elem were retrieved from list\n    local.assertJsonEqual(\n        Object.keys(opt.elemDict).sort(),\n        [\n            \"aa\", \"bb\", \"cc\", \"dd\"\n        ]\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_listShuffle_default = function (opt, onError) {\n/*\n * this function will test listShuffle's default handling-behavior\n */\n    opt = {};\n    // init list\n    opt.list = \"[0,1]\";\n    // shuffle list 100 times\n    opt.ii = 0;\n    while (opt.ii < 100) {\n        opt.listShuffled = JSON.stringify(\n            local.listShuffle(JSON.parse(opt.list))\n        );\n        // validate shuffled list\n        local.assertJsonEqual(opt.listShuffled.length, opt.list.length);\n        opt.changed = opt.changed || opt.listShuffled !== opt.list;\n        opt.ii += 1;\n    }\n    // validate list changed at least once during the shuffle\n    local.assertThrow(opt.changed, opt);\n    onError(null, opt);\n};\n\nlocal.testCase_localStorageSetItemOrClear_default = function (\n    opt,\n    onError\n) {\n/*\n * this function will localStorageSetItemOrClear's default handling-behavior\n */\n    if (!local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.localStorageSetItemOrClear(\n        \"testCase_localStorageSetItemOrClear_default\",\n        null\n    );\n    local.assertJsonEqual(\n        localStorage.testCase_localStorageSetItemOrClear_default,\n        \"null\"\n    );\n    local.testMock([\n        [\n            localStorage, {\n                clear: null,\n                setItem: function () {\n                    throw local.errDefault;\n                }\n            }\n        ]\n    ], function (onError) {\n        localStorage.clear = onError;\n        local.localStorageSetItemOrClear(\n            \"testCase_localStorageSetItemOrClear_default\",\n            null\n        );\n    }, onError);\n};\n\nlocal.testCase_middlewareForwardProxy_default = function (opt, onError) {\n/*\n * this function will test middlewareForwardProxy's default handling-behavior\n */\n    var onParallel;\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    onParallel = local.onParallel(onError);\n    onParallel.counter += 1;\n    // test preflight-cors handling-behavior\n    onParallel.counter += 1;\n    local.ajax({\n        headers: {\n            \"access-control-request-headers\": (\n                \"forward-proxy-headers,forward-proxy-url\"\n            )\n        },\n        method: \"OPTIONS\",\n        url: \"\"\n    }, onParallel);\n    // test forward-proxy-http handling-behavior\n    onParallel.counter += 1;\n    local.ajax({\n        headers: {\n            \"forward-proxy-url\": \"/assets.hello.txt\"\n        },\n        url: \"\"\n    }, function (err, xhr) {\n        // validate no err occurred\n        local.assertThrow(!err, err);\n        // validate responseText\n        local.assertJsonEqual(xhr.responseText, local.stringHelloEmoji);\n        onParallel(null, opt, xhr);\n    });\n    // test err handling-behavior\n    onParallel.counter += 1;\n    local.ajax({\n        headers: {\n            \"forward-proxy-url\": \"https://undefined:0\"\n        },\n        url: \"\"\n    }, function (err) {\n        // validate err occurred\n        local.assertThrow(err, err);\n        onParallel(null, opt);\n    });\n    onParallel(null, opt);\n};\n\nlocal.testCase_middlewareJsonpStateInit_assetsList = function (\n    opt,\n    onError\n) {\n/*\n * this function will middlewareJsonpStateInit's assetsList handling-behavior\n */\n    local.testMock([\n        [\n            local.env, {\n                npm_package_assetsList: \"undefined\"\n            }\n        ], [\n            local, {\n                assetsDict: {}\n            }\n        ]\n    ], function (onError) {\n        local.middlewareJsonpStateInit({\n            stateInit: true\n        });\n        // validate data\n        local.assertJsonEqual(local.assetsDict[\"/undefined\"], \"\");\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_moduleDirname_default = function (opt, onError) {\n/*\n * this function will test moduleDirname's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    // test null-case handling-behavior\n    local.assertJsonEqual(\n        local.moduleDirname(null, module.paths),\n        process.cwd()\n    );\n    // test path handling-behavior\n    local.assertJsonEqual(\n        local.moduleDirname(\".\", module.paths),\n        process.cwd()\n    );\n    local.assertJsonEqual(\n        local.moduleDirname(\"./\", module.paths),\n        process.cwd()\n    );\n    // test module-exists handling-behavior\n    opt = local.moduleDirname(\"electron-lite\", module.paths);\n    local.assertThrow((\n        /\\/electron-lite$/\n    ).test(opt), opt);\n    // test module-does-not-exist handling-behavior\n    local.assertJsonEqual(\n        local.moduleDirname(\"syntax-err\", module.paths),\n        \"\"\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_numberToRomanNumerals_default = function (opt, onError) {\n/*\n * this function will test numberToRomanNumerals's default handling-behavior\n */\n    opt = {};\n    opt.list = [\n        \"\",\n        \"I\",\n        \"II\",\n        \"III\",\n        \"IV\",\n        \"V\",\n        \"VI\",\n        \"VII\",\n        \"VIII\",\n        \"IX\",\n        \"X\",\n        \"XI\",\n        \"XII\",\n        \"XIII\",\n        \"XIV\",\n        \"XV\",\n        \"XVI\",\n        \"XVII\",\n        \"XVIII\",\n        \"XIX\",\n        \"XX\",\n        \"XXI\",\n        \"XXII\",\n        \"XXIII\",\n        \"XXIV\",\n        \"XXV\",\n        \"XXVI\",\n        \"XXVII\",\n        \"XXVIII\",\n        \"XXIX\",\n        \"XXX\",\n        \"XXXI\",\n        \"XXXII\",\n        \"XXXIII\",\n        \"XXXIV\",\n        \"XXXV\",\n        \"XXXVI\",\n        \"XXXVII\",\n        \"XXXVIII\",\n        \"XXXIX\",\n        \"XL\",\n        \"XLI\",\n        \"XLII\",\n        \"XLIII\",\n        \"XLIV\",\n        \"XLV\",\n        \"XLVI\",\n        \"XLVII\",\n        \"XLVIII\",\n        \"XLIX\",\n        \"L\",\n        \"LI\",\n        \"LII\",\n        \"LIII\",\n        \"LIV\",\n        \"LV\",\n        \"LVI\",\n        \"LVII\",\n        \"LVIII\",\n        \"LIX\",\n        \"LX\",\n        \"LXI\",\n        \"LXII\",\n        \"LXIII\",\n        \"LXIV\",\n        \"LXV\",\n        \"LXVI\",\n        \"LXVII\",\n        \"LXVIII\",\n        \"LXIX\",\n        \"LXX\",\n        \"LXXI\",\n        \"LXXII\",\n        \"LXXIII\",\n        \"LXXIV\",\n        \"LXXV\",\n        \"LXXVI\",\n        \"LXXVII\",\n        \"LXXVIII\",\n        \"LXXIX\",\n        \"LXXX\",\n        \"LXXXI\",\n        \"LXXXII\",\n        \"LXXXIII\",\n        \"LXXXIV\",\n        \"LXXXV\",\n        \"LXXXVI\",\n        \"LXXXVII\",\n        \"LXXXVIII\",\n        \"LXXXIX\",\n        \"XC\",\n        \"XCI\",\n        \"XCII\",\n        \"XCIII\",\n        \"XCIV\",\n        \"XCV\",\n        \"XCVI\",\n        \"XCVII\",\n        \"XCVIII\",\n        \"XCIX\",\n        \"C\"\n    ];\n    opt.ii = 0;\n    while (opt.ii < 10) {\n        local.assertJsonEqual(\n            local.numberToRomanNumerals(opt.ii),\n            opt.list[opt.ii]\n        );\n        opt.ii += 1;\n    }\n    onError(null, opt);\n};\n\nlocal.testCase_objectSetDefault_default = function (opt, onError) {\n/*\n * this function will test objectSetDefault's default handling-behavior\n */\n    // test null-case handling-behavior\n    local.objectSetDefault();\n    local.objectSetDefault({});\n    // test falsy handling-behavior\n    [\n        \"\", 0, false, null, undefined\n    ].forEach(function (aa) {\n        [\n            \"\", 0, false, null, undefined\n        ].forEach(function (bb) {\n            local.assertJsonEqual(\n                local.objectSetDefault({\n                    data: aa\n                }, {\n                    data: bb\n                }).data,\n                (aa === 0 || aa === false || bb === undefined)\n                ? aa\n                : bb\n            );\n        });\n    });\n    // test non-recursive handling-behavior\n    local.assertJsonEqual(local.objectSetDefault({\n        aa: 0,\n        bb: {\n            cc: 1\n        },\n        cc: {\n            dd: {}\n        },\n        dd: [\n            1, 1\n        ],\n        ee: [\n            1, 1\n        ]\n    }, {\n        aa: 2,\n        bb: {\n            dd: 2\n        },\n        cc: {\n            dd: {\n                ee: 2\n            }\n        },\n        dd: [\n            2, 2\n        ],\n        ee: {\n            ff: 2\n        }\n    // test default-depth handling-behavior\n    }, null), {\n        aa: 0,\n        bb: {\n            cc: 1\n        },\n        cc: {\n            dd: {}\n        },\n        dd: [\n            1, 1\n        ],\n        ee: [\n            1, 1\n        ]\n    });\n    // test recursive handling-behavior\n    local.assertJsonEqual(local.objectSetDefault({\n        aa: 0,\n        bb: {\n            cc: 1\n        },\n        cc: {\n            dd: {}\n        },\n        dd: [\n            1, 1\n        ],\n        ee: [\n            1, 1\n        ]\n    }, {\n        aa: 2,\n        bb: {\n            dd: 2\n        },\n        cc: {\n            dd: {\n                ee: 2\n            }\n        },\n        dd: [\n            2, 2\n        ],\n        ee: {\n            ff: 2\n        }\n    // test depth handling-behavior\n    }, 2), {\n        aa: 0,\n        bb: {\n            cc: 1,\n            dd: 2\n        },\n        cc: {\n            dd: {}\n        },\n        dd: [\n            1, 1\n        ],\n        ee: [\n            1, 1\n        ]\n    });\n    onError(null, opt);\n};\n\nlocal.testCase_objectSetOverride_default = function (opt, onError) {\n/*\n * this function will test objectSetOverride's default handling-behavior\n */\n    // test null-case handling-behavior\n    local.objectSetOverride();\n    local.objectSetOverride({});\n    // test falsy handling-behavior\n    [\n        \"\", 0, false, null, undefined\n    ].forEach(function (aa) {\n        [\n            \"\", 0, false, null, undefined\n        ].forEach(function (bb) {\n            local.assertJsonEqual(\n                local.objectSetOverride({\n                    data: aa\n                }, {\n                    data: bb\n                }).data,\n                bb === undefined\n                ? aa\n                : bb\n            );\n        });\n    });\n    // test non-recursive handling-behavior\n    local.assertJsonEqual(local.objectSetOverride({\n        aa: 1,\n        bb: {\n            cc: 1\n        },\n        cc: {\n            dd: 1\n        },\n        dd: [\n            1, 1\n        ],\n        ee: [\n            1, 1\n        ]\n    }, {\n        aa: 2,\n        bb: {\n            dd: 2\n        },\n        cc: {\n            ee: 2\n        },\n        dd: [\n            2, 2\n        ],\n        ee: {\n            ff: 2\n        }\n    // test default-depth handling-behavior\n    }, null), {\n        aa: 2,\n        bb: {\n            dd: 2\n        },\n        cc: {\n            ee: 2\n        },\n        dd: [\n            2, 2\n        ],\n        ee: {\n            ff: 2\n        }\n    });\n    // test recursive handling-behavior\n    local.assertJsonEqual(local.objectSetOverride({\n        aa: 1,\n        bb: {\n            cc: 1\n        },\n        cc: {\n            dd: 1\n        },\n        dd: [\n            1, 1\n        ],\n        ee: [\n            1, 1\n        ]\n    }, {\n        aa: 2,\n        bb: {\n            dd: 2\n        },\n        cc: {\n            ee: 2\n        },\n        dd: [\n            2, 2\n        ],\n        ee: {\n            ff: 2\n        }\n    // test depth handling-behavior\n    }, 2), {\n        aa: 2,\n        bb: {\n            cc: 1,\n            dd: 2\n        },\n        cc: {\n            dd: 1,\n            ee: 2\n        },\n        dd: [\n            2, 2\n        ],\n        ee: {\n            ff: 2\n        }\n    });\n    // test env with empty-string handling-behavior\n    local.assertJsonEqual(local.objectSetOverride(\n        local.env,\n        {\n            \"emptyString\": null\n        },\n        // test default-depth handling-behavior\n        null,\n        local.env\n    ).emptyString, \"\");\n    onError(null, opt);\n};\n\nlocal.testCase_onErrorDefault_default = function (opt, onError) {\n/*\n * this function will test onErrorDefault's default handling-behavior\n */\n    local.testMock([\n        [\n            console, {\n                error: function (arg) {\n                    opt = arg;\n                }\n            }\n        ], [\n            globalThis, {\n                __coverage__: null\n            }\n        ]\n    ], function (onError) {\n        // test no err handling-behavior\n        local.onErrorDefault();\n        // validate opt\n        local.assertThrow(!opt, opt);\n        // test err handling-behavior\n        local.onErrorDefault(local.errDefault);\n        // validate opt\n        local.assertThrow(opt, opt);\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_onErrorThrow_err = function (opt, onError) {\n/*\n * this function will test onErrorThrow's err handling-behavior\n */\n    local.tryCatchOnError(function () {\n        local.onErrorThrow(local.errDefault);\n    }, function (err) {\n        // validate err occurred\n        local.assertThrow(err, err);\n        onError(null, opt);\n    });\n};\n\nlocal.testCase_onErrorWithStack_toString = function (opt, onError) {\n/*\n * this function will test onErrorWithStack's toString handling-behavior\n */\n    local.assertJsonEqual(\n        String(local.onErrorWithStack(local.nop)),\n        String(local.nop)\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_onFileModifiedRestart_watchFile = function (opt, onError) {\n/*\n * this function will test onFileModifiedRestart's watchFile handling-behavior\n */\n    var onParallel;\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    onParallel = local.onParallel(onError);\n    onParallel.counter += 1;\n    local.fs.stat(__filename, function (err, stat) {\n        // test default watchFile handling-behavior\n        onParallel.counter += 1;\n        local.fs.utimes(__filename, stat.atime, new Date(), onParallel);\n        // test nop watchFile handling-behavior\n        onParallel.counter += 1;\n        setTimeout(function () {\n            local.fs.utimes(__filename, stat.atime, stat.mtime, onParallel);\n        }, 1000);\n        onParallel(err, opt);\n    });\n};\n\nlocal.testCase_onNext_err = function (opt, onError) {\n/*\n * this function will test onNext's err handling-behavior\n */\n\n    opt = {};\n    opt.modeDebug = true;\n    local.onNext(opt, function () {\n        throw local.errDefault;\n    });\n    opt.modeNext = 0;\n    local.tryCatchOnError(function () {\n        opt.onNext();\n    }, function (err) {\n        // validate err occurred\n        local.assertThrow(err, err);\n        onError(null, opt);\n    });\n};\n\nlocal.testCase_onParallelList_default = function (opt, onError) {\n/*\n * this function will test onParallelList's default handling-behavior\n */\n    opt = {};\n    local.onNext(opt, function (err) {\n        switch (opt.modeNext) {\n        case 1:\n            // test null-case handling-behavior\n            local.onParallelList({}, local.onErrorThrow, opt.onNext);\n            break;\n        case 2:\n            opt.list = [\n                null\n            ];\n            // test retryLimit handling-behavior\n            opt.retryLimit = 1;\n            local.onParallelList(opt, function (option2, onParallel) {\n                onParallel.counter += 1;\n                // test err handling-behavior\n                onParallel(local.errDefault, option2);\n                // test multiple-callback handling-behavior\n                setTimeout(onParallel, 5000);\n            }, function (err) {\n                // validate err occurred\n                local.assertThrow(err, err);\n                opt.onNext();\n            });\n            break;\n        case 3:\n            opt.data = [];\n            // test rateLimit handling-behavior\n            opt.rateLimit = 3;\n            opt.rateMax = 0;\n            // test retryLimit handling-behavior\n            opt.retryLimit = 1;\n            local.onParallelList({\n                list: [\n                    1, 2, 3, 4\n                ],\n                rateLimit: opt.rateLimit\n            }, function (option2, onParallel) {\n                onParallel.counter += 1;\n                opt.rateMax = Math.max(\n                    onParallel.counter - 1,\n                    opt.rateMax\n                );\n                // test async handling-behavior\n                setTimeout(function () {\n                    // test list-growth handling-behavior\n                    if (option2.ii === 3) {\n                        option2.list.push(5);\n                    }\n                    opt.data[option2.ii] = option2.elem;\n                    // test retry handling-behavior\n                    local.assertThrow(option2.retry < 1);\n                    onParallel(null, option2);\n                });\n            }, opt.onNext, opt.rateLimit);\n            break;\n        case 4:\n            // validate data\n            local.assertJsonEqual(opt.data, [\n                1, 2, 3, 4, 5\n            ]);\n            local.assertJsonEqual(opt.rateMax, 3);\n            opt.data = [];\n            opt.rateLimit = \"syntax-err\";\n            opt.rateMax = 0;\n            local.onParallelList({\n                list: [\n                    1, 2, 3, 4, 5\n                ],\n                rateLimit: opt.rateLimit\n            }, function (option2, onParallel) {\n                // test sync handling-behavior\n                onParallel.counter += 1;\n                opt.rateMax = Math.max(onParallel.counter, opt.rateMax);\n                opt.data[option2.ii] = option2.elem;\n                onParallel(null, opt);\n            }, opt.onNext);\n            break;\n        case 5:\n            // validate data\n            local.assertJsonEqual(opt.data, [\n                1, 2, 3, 4, 5\n            ]);\n            local.assertJsonEqual(opt.rateMax, 2);\n            opt.onNext();\n            break;\n        default:\n            onError(err, opt);\n        }\n    });\n    opt.modeNext = 0;\n    opt.onNext();\n};\n\nlocal.testCase_onParallel_default = function (opt, onError) {\n/*\n * this function will test onParallel's default handling-behavior\n */\n    var onParallel;\n    var onParallelError;\n    // test onEach handling-behavior\n    onParallel = local.onParallel(onError, function () {\n        // validate counter\n        local.assertThrow(onParallel.counter >= 0, onParallel);\n    });\n    onParallel.counter += 1;\n    // test multiple-task handling-behavior\n    onParallel.counter += 1;\n    setTimeout(function () {\n        onParallelError = local.onParallel(onParallel);\n        onParallelError.counter += 1;\n        onParallelError();\n        // test multiple-callback-error handling-behavior\n        onParallelError();\n        // validate err occurred\n        local.assertThrow(onParallelError.err, onParallelError.err);\n        // test err handling-behavior\n        onParallelError(local.errDefault);\n        // validate err occurred\n        local.assertThrow(onParallelError.err, onParallelError.err);\n        // test ignore-after-error handling-behavior\n        onParallelError();\n    });\n    // test default handling-behavior\n    onParallel(null, opt);\n};\n\nlocal.testCase_onTimeout_timeout = function (opt, onError) {\n/*\n * this function will test onTimeout's timeout handling-behavior\n */\n    opt = local.timeElapsedStart();\n    local.onTimeout(function (err) {\n        // validate err occurred\n        local.assertThrow(err, err);\n        // validate err.message\n        local.assertThrow(\n            err.message.indexOf(\"testCase_onTimeout_timeout\") >= 0,\n            err\n        );\n        // poll timeElapsed\n        local.timeElapsedPoll(opt);\n        // validate timeElapsed passed is greater than timeout\n        local.assertThrow(opt.timeElapsed >= 1000, opt);\n        onError(null, opt);\n    }, 1000, \"testCase_onTimeout_timeout\");\n};\n\nlocal.testCase_profileXxx_default = function (opt, onError) {\n/*\n * this function will test profileXxx's default handling-behavior\n */\n    opt = {};\n    // test profileSync's handling-behavior\n    opt.timeElapsed = local.profileSync(function () {\n        return;\n    });\n    // validate timeElapsed\n    local.assertThrow(\n        0 <= opt.timeElapsed && opt.timeElapsed < 1000,\n        opt.timeElapsed\n    );\n    // test profile's async handling-behavior\n    local.profile(function (onError) {\n        setTimeout(onError);\n    }, function (err, timeElapsed) {\n        // validate no err occurred\n        local.assertThrow(!err, err);\n        opt.timeElapsed = timeElapsed;\n        // validate timeElapsed\n        local.assertThrow((\n            0 <= opt.timeElapsed\n            && opt.timeElapsed < local.timeoutDefault\n        ), opt.timeElapsed);\n        onError(null, opt);\n    });\n};\n\nlocal.testCase_replStart_default = function (opt, onError) {\n/*\n * this function will test replStart's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.replStart();\n    // coverage-hack - test replStart's muliple-call handling-behavior\n    local.replStart();\n    local.testMock([\n        [\n            local.child_process, {\n                spawn: function () {\n                    return {\n                        on: function (evt, callback) {\n                            callback(null, evt);\n                        }\n                    };\n                }\n            }\n        ],\n        // suppress process.stdout\n        [\n            process.stdout, {\n                write: local.nop\n            }\n        ]\n    ], function (onError) {\n        [\n            // test null-case handling-behavior\n            \"\",\n            // test shell handling-behavior\n            \"$ :\\n\",\n            // test git diff handling-behavior\n            \"$ git diff\\n\",\n            // test git log handling-behavior\n            \"$ git log\\n\",\n            // test charCode handling-behavior\n            \"charCode abcd\\n\",\n            // test charSort handling-behavior\n            \"charSort abcd\\n\",\n            // test grep handling-behavior\n            \"grep \\\\baa\\\\b\\n\",\n            // test keys handling-behavior\n            \"keys {}\\n\",\n            // test print handling-behavior\n            \"print abcd\\n\",\n            // test err handling-behavior\n            \"undefined()\\n\"\n        ].forEach(function (script) {\n            globalThis.utility2_repl1.eval(script, null, \"repl\", local.nop);\n        });\n        // test err handling-behavior\n        globalThis.utility2_repl1.onError(local.errDefault);\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_replStart_tcp = function (opt, onError) {\n/*\n * this function will test replStart's tcp handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    opt = {};\n    opt.data = \"\";\n    opt.input = Math.random();\n    opt.socket = local.net.createConnection(local.env.PORT_REPL);\n    opt.socket.on(\"data\", function (data) {\n    /*\n     * this function will concat data to opt.data\n     */\n        opt.data += data;\n    });\n    opt.socket.setEncoding(\"utf8\");\n    opt.socket.on(\"end\", function () {\n        // validate data\n        local.assertThrow(\n            opt.data.indexOf(opt.input) >= 0,\n            JSON.stringify([\n                opt.data, opt.input\n            ])\n        );\n        onError(null, opt);\n    });\n    opt.socket.write(opt.input + \"\\n\");\n    // test err handling-behavior\n    opt.socket.end(\"undefined()\\n\");\n};\n\nlocal.testCase_requireReadme_start = function (opt, onError) {\n/*\n * this function will test requireReadme's start handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.testMock([\n        [\n            local, {\n                assetsDict: {},\n                onFileModifiedRestart: local.nop\n            }\n        ], [\n            local.env, {\n                npm_config_mode_start: \"1\",\n                npm_package_nameLib: \"_testCase_requireReadme_start\"\n            }\n        ], [\n            local.fs, {\n                readFile: function (file, opt, onError) {\n                    onError(null, \"{}\", file, opt);\n                },\n                readdirSync: function () {\n                    // test jslintAndPrint.conditional handling-behavior\n                    return [\n                        \"aa.css\",\n                        \"aa.html\",\n                        \"aa.js\",\n                        \"aa.json\",\n                        \"aa.rollup.js\",\n                        \"assets.swgg.swagger.json\"\n                    ];\n                }\n            }\n        ]\n    ], function (onError) {\n        // validate data\n        local.requireReadme();\n        local.assertThrow(local._testCase_requireReadme_start === local);\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_semverCompare_default = function (opt, onError) {\n/*\n * this function will test semverCompare's default handling-behavior\n */\n    var aa;\n    // test aa = bb\n    opt = [\n        \"1.2.3\",\n        \"1.2.3-\",\n        \"1.2.3-alpha.beta\",\n        \"1.2.3-alpha.beta\"\n    ];\n    opt.forEach(function (bb, ii) {\n        if (Boolean(ii & 1)) {\n            local.assertThrow(\n                local.semverCompare(aa, bb) === 0,\n                [\n                    local.semverCompare(aa, bb), aa, bb\n                ]\n            );\n        }\n        aa = bb;\n    });\n    opt = [\n        \"1.2.3-a\",\n        \"1.2.3-a.2\",\n        \"1.2.3-a.10\",\n        \"1.2.3-b\",\n        \"1.2.3\",\n        \"1.2.10\"\n    ];\n    // test aa < bb\n    opt.reduce(function (aa, bb) {\n        local.assertThrow(\n            local.semverCompare(aa, bb) === -1,\n            [\n                local.semverCompare(aa, bb), aa, bb\n            ]\n        );\n        return bb;\n    });\n    // test aa > bb\n    opt.reverse().reduce(function (aa, bb) {\n        local.assertThrow(\n            local.semverCompare(aa, bb) === 1,\n            [\n                local.semverCompare(aa, bb), aa, bb\n            ]\n        );\n        return bb;\n    });\n    onError(null, opt);\n};\n\nlocal.testCase_serverRespondTimeoutDefault_timeout = function (\n    opt,\n    onError\n) {\n/*\n * this function will test\n * serverRespondTimeoutDefault's timeout handling-behavior\n */\n    opt = function (fnc1, fnc2) {\n        [\n            fnc1, fnc2\n        ].forEach(function (fnc) {\n            if (typeof fnc === \"function\") {\n                fnc();\n            }\n        });\n    };\n    local.testMock([\n        [\n            local, {\n                onTimeout: opt,\n                serverRespondDefault: local.nop,\n                setTimeout: opt\n            }\n        ]\n    ], function (onError) {\n        local.serverRespondTimeoutDefault({\n            headers: {}\n        }, {\n            on: opt\n        });\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_setTimeoutOnError_default = function (opt, onError) {\n/*\n * this function will test setTimeoutOnError's default handling-behavior\n */\n    // test null-case handling-behavior\n    local.assertJsonEqual(local.setTimeoutOnError(), undefined);\n    // test onError handling-behavior\n    local.assertJsonEqual(\n        local.setTimeoutOnError(onError, 0, null, {}, opt),\n        {}\n    );\n};\n\nlocal.testCase_sjclHashScryptXxx_default = function (opt, onError) {\n/*\n * this function will test sjclHashScryptXxx's default handling-behavior\n */\n    // test sjclHashScryptCreate's null-case handling-behavior\n    local.assertJsonEqual(\n        local.sjclHashScryptCreate().slice(0, 10),\n        \"$s0$10801$\"\n    );\n    // https://github.com/wg/scrypt\n    // test sjclHashScryptValidate's fail handling-behavior\n    local.assertJsonEqual(local.sjclHashScryptValidate(\n        \"password\",\n        (\n            \"$s0$80801$epIxT/h6HbbwHaehFnh/bw==\"\n            + \"$l/guDhz2Q0v/D93gq0K0qtSX6FWP8pH5maAJkbIcRaEA\"\n        )\n    ), false);\n    // https://github.com/wg/scrypt\n    // test sjclHashScryptValidate's pass handling-behavior\n    local.assertJsonEqual(local.sjclHashScryptValidate(\"password\", (\n        \"$s0$80801$epIxT/h6HbbwHaehFnh/bw==\"\n        + \"$l/guDhz2Q0v/D93gq0K0qtSX6FWP8pH5maAJkbIcRaE=\"\n    )), true);\n    onError(null, opt);\n};\n\nlocal.testCase_sjclHashShaXxxCreate_default = function (opt, onError) {\n/*\n * this function will test sjclHashShaXxxCreate's default handling-behavior\n */\n    local.assertJsonEqual(\n        local.sjclHashSha1Create(\"aa\"),\n        \"4MkDWJjdUvxlxBRUzsnE0mEb+zc=\"\n    );\n    local.assertJsonEqual(\n        local.sjclHashSha256Create(\"aa\"),\n        \"lhtt0+3jy47LqsvWjeBAzXjrLtWIkTDM60xJJo6k1QY=\"\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_sjclHmacShaXxx_default = function (opt, onError) {\n/*\n * this function will test sjclHmacShaXxx's default handling-behavior\n */\n    local.assertJsonEqual(\n        local.sjclHmacSha1Create(\"aa\", \"bb\"),\n        \"15pOinCz63A+qZoxnv+mJB6UF1k=\"\n    );\n    local.assertJsonEqual(\n        local.sjclHmacSha256Create(\"aa\", \"bb\"),\n        \"94Xv3VdPHA+ohKyjkM1pb0W5ZVAuMVcmIAAI2AqNRCQ=\"\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_stringHtmlSafe_default = function (opt, onError) {\n/*\n * this function will test stringHtmlSafe's default handling-behavior\n */\n    local.assertJsonEqual(\n        local.stringHtmlSafe(\n            local.stringHtmlSafe(local.stringCharsetAscii).slice(32, -1)\n        ),\n        (\n            \" !&quot;#$%&amp;&apos;()*+,-./0123456789:;&lt;=&gt;?@\"\n            + \"ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n        )\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_stringQuotedToAscii_default = function (opt, onError) {\n/*\n * this function will test stringQuotedToAscii's default handling-behavior\n */\n    local.assertJsonEqual(\n        local.stringQuotedToAscii(local.stringHelloEmoji),\n        \"hello \\\\ud83d\\\\ude01\\n\"\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_stringRegexpEscape_default = function (opt, onError) {\n/*\n * this function will test stringRegexpEscape's default handling-behavior\n */\n    local.assertJsonEqual(\n        local.stringRegexpEscape(local.stringCharsetAscii),\n        (\n            \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\"\n            + \"\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\"\n            + \"\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\"\n            + \"\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f\"\n            + \" !\\\"#\\\\$%&'\\\\(\\\\)\\\\*\\\\+,\\\\-\\\\.\\\\/0123456789:;<=>\\\\?@\"\n            + \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\\\\[\\\\\\\\\\\\]\\\\^_`\"\n            + \"abcdefghijklmnopqrstuvwxyz\\\\{\\\\|\\\\}~\"\n            + \"\\u007f\"\n        )\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_stringTruncate_default = function (opt, onError) {\n/*\n * this function will test stringTruncate's default handling-behavior\n */\n    local.assertJsonEqual(local.stringTruncate(\"aa\"), \"aa\");\n    local.assertJsonEqual(local.stringTruncate(\"aa\", 1), \"...\");\n    local.assertJsonEqual(local.stringTruncate(\"aa\", 2), \"aa\");\n    onError(null, opt);\n};\n\nlocal.testCase_stringUniqueKey_default = function (opt, onError) {\n/*\n * this function will test stringUniqueKey's default handling-behavior\n */\n    local.assertThrow((\"zqxj\").indexOf(local.stringUniqueKey(\"zqxj\") < 0));\n    onError(null, opt);\n};\n\nlocal.testCase_taskCreateCached_default = function (opt, onError) {\n/*\n * this function will test taskCreateCached's default handling-behavior\n */\n    var cacheValue;\n    var onTask;\n    var option2;\n    opt = {};\n    local.onNext(opt, function (err, data) {\n        switch (opt.modeNext) {\n        // test no cache handling-behavior\n        case 1:\n            onTask = function (onError) {\n                onError(null, cacheValue);\n            };\n            opt.cacheDict = \"testCase_taskCreateCached_default\";\n            opt.key = \"memory\";\n            // cleanup memory-cache\n            local.cacheDict[opt.cacheDict] = null;\n            cacheValue = \"aa\";\n            option2 = {\n                cacheDict: opt.cacheDict,\n                key: opt.key,\n                // test onCacheWrite handling-behavior\n                onCacheWrite: opt.onNext\n            };\n            local.taskCreateCached(option2, onTask, opt.onNext);\n            break;\n        case 2:\n            // validate data\n            local.assertJsonEqual(data, \"aa\");\n            // validate no cache-hit\n            local.assertThrow(!option2.modeCacheHit, option2.modeCacheHit);\n            break;\n        // test cache with update handling-behavior\n        case 3:\n            cacheValue = \"bb\";\n            option2 = {\n                cacheDict: opt.cacheDict,\n                key: opt.key,\n                // test modeCacheUpdate handling-behavior\n                modeCacheUpdate: true,\n                // test onCacheWrite handling-behavior\n                onCacheWrite: opt.onNext\n            };\n            local.taskCreateCached(option2, onTask, opt.onNext);\n            break;\n        case 4:\n            // validate data\n            local.assertJsonEqual(data, \"aa\");\n            // validate modeCacheHit\n            local.assertJsonEqual(option2.modeCacheHit, true);\n            break;\n        // test cache handling-behavior\n        case 5:\n            option2 = {\n                cacheDict: opt.cacheDict,\n                key: opt.key\n            };\n            local.taskCreateCached(option2, onTask, opt.onNext);\n            break;\n        case 6:\n            // validate data\n            local.assertJsonEqual(data, \"bb\");\n            // validate modeCacheHit\n            local.assertJsonEqual(option2.modeCacheHit, true);\n            opt.onNext();\n            break;\n        default:\n            onError(err, opt);\n        }\n    });\n    opt.modeNext = 0;\n    opt.onNext();\n};\n\nlocal.testCase_taskCreate_multipleCallback = function (opt, onError) {\n/*\n * this function will test taskCreate's multiple-callback handling-behavior\n */\n    opt = {\n        counter: 0,\n        key: \"testCase_taskCreate_multiCallback\"\n    };\n    local.taskCreate(opt, function (onError) {\n        onError(null, opt);\n        // test multiple-callback handling-behavior\n        onError(null, opt);\n    }, function () {\n        opt.counter += 1;\n    });\n    // validate counter incremented once\n    local.assertJsonEqual(opt.counter, 1);\n    onError(null, opt);\n};\n\nlocal.testCase_taskCreate_upsert = function (opt, onError) {\n/*\n * this function will test taskCreate's upsert handling-behavior\n */\n    opt = {\n        counter: 0,\n        key: \"testCase_taskCreate_upsert\"\n    };\n    // test upsert handling-behavior\n    [\n        null, null\n    ].forEach(function () {\n        local.taskCreate(opt, function (onError) {\n            opt.counter += 1;\n            setTimeout(onError);\n        });\n    });\n    // validate counter incremented once\n    setTimeout(function () {\n        local.assertJsonEqual(opt.counter, 1);\n        onError(null, opt);\n    });\n};\n\nlocal.testCase_templateRender_default = function (opt, onError) {\n/*\n * this function will test templateRender's default handling-behavior\n */\n    // test null-case handling-behavior\n    local.assertJsonEqual(local.templateRender(), \"\");\n    // test undefined-value handling-behavior\n    local.assertJsonEqual(local.templateRender(\"{{aa}}\", {}), \"{{aa}}\");\n    // test basic handling-behavior\n    local.assertJsonEqual(local.templateRender(\"{{aa}}\", {\n        aa: \"```<aa\\nbb>```\"\n    }), \"```&lt;aa\\nbb&gt;```\");\n    // test markdownToHtml handling-behavior\n    local.assertJsonEqual(\n        local.templateRender(\"{{aa markdownToHtml}}\", {\n            aa: local.stringCharsetAscii.slice(32, -1)\n        }),\n        (\n            \"<p> !&quot;#$%&amp;&apos;()*+,-./0123456789:;&lt;=&gt;?@\"\n            + \"ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n            + \"</p>\\n\"\n        )\n    );\n    // test markdownSafe handling-behavior\n    local.assertJsonEqual(\n        local.templateRender(\"{{aa markdownSafe notHtmlSafe}}\", {\n            aa: local.stringCharsetAscii.slice(32, -1)\n        }),\n        (\n            \" !\\\"#$%&'()*+,-./0123456789:;<=>?@\"\n            + \"ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_'abcdefghijklmnopqrstuvwxyz{|}~\"\n        )\n    );\n    // test notHtmlSafe handling-behavior\n    local.assertJsonEqual(local.templateRender(\"{{aa notHtmlSafe}}\", {\n        aa: \"```<aa\\nbb>```\"\n    }), \"```<aa\\nbb>```\");\n    // test default handling-behavior\n    local.assertJsonEqual(local.templateRender((\n        \"{{aa alphanumeric}} \"\n        + \"{{aa truncate 4 truncate 4}} \"\n        + \"{{aa jsonStringify jsonStringify4 decodeURIComponent\"\n        + \" encodeURIComponent trim}} \"\n        + \"{{bb}} {{cc}} {{dd}} {{ee.ff}}\"\n    ), {\n        // test string value handling-behavior\n        aa: \"`<aa>`\",\n        // test non-string value handling-behavior\n        bb: 1,\n        // test null-value handling-behavior\n        cc: null,\n        // test undefined-value handling-behavior\n        dd: undefined,\n        // test nested value handling-behavior\n        ee: {\n            ff: \"gg\"\n        }\n    }), \"__aa__ `... %22%5C%22%60%3Caa%3E%60%5C%22%22 1 null {{dd}} gg\");\n    // test partial handling-behavior\n    local.assertJsonEqual(\n        local.templateRender((\n            \"{{#undefined aa}}\\n\"\n            + \"list1{{#each list1}}\\n\"\n            + \"    aa - {{aa}}\\n\"\n            + \"    list2{{#eachTrimRightComma list2}}\\n\"\n            + \"        {{#this/ notHtmlSafe jsonStringify}}\\n\"\n            + \"        bb - {{bb}}\\n\"\n            + \"        {{#if bb}}\\n\"\n            + \"        if\\n\"\n            + \"        {{#unless bb}}\\n\"\n            + \"        else\\n\"\n            + \"        {{/if bb}}\\n\"\n            + \"        {{#unless bb}}\\n\"\n            + \"        unless\\n\"\n            + \"        {{/unless bb}}\\n\"\n            + \"        ,\\n\"\n            + \"    {{/eachTrimRightComma list2}}\\n\"\n            + \"{{/each list1}}\\n\"\n            + \"{{/undefined aa}}\\n\"\n        ), {\n            list1: [\n                // test null-value handling-behavior\n                null, {\n                    aa: \"aa\",\n                    // test recursive-list handling-behavior\n                    list2: [\n                        {\n                            bb: \"bb\"\n                        }, {\n                            bb: null\n                        }\n                    ]\n                }\n            ]\n        }),\n        (\n            \"{{#undefined aa}}\\n\"\n            + \"list1\\n\"\n            + \"    aa - {{aa}}\\n\"\n            + \"    list2\\n\"\n            + \"\\n\"\n            + \"    aa - aa\\n\"\n            + \"    list2\\n\"\n            + \"        {\\\"bb\\\":\\\"bb\\\"}\\n\"\n            + \"        bb - bb\\n\"\n            + \"        \\n\"\n            + \"        if\\n\"\n            + \"        \\n\"\n            + \"        \\n\"\n            + \"        ,\\n\"\n            + \"    \\n\"\n            + \"        {\\\"bb\\\":null}\\n\"\n            + \"        bb - null\\n\"\n            + \"        \\n\"\n            + \"        else\\n\"\n            + \"        \\n\"\n            + \"        \\n\"\n            + \"        unless\\n\"\n            + \"        \\n\"\n            + \"        \\n\"\n            + \"\\n\"\n            + \"{{/undefined aa}}\\n\"\n        )\n    );\n    // test err handling-behavior\n    local.tryCatchOnError(function () {\n        local.templateRender(\"{{aa bb}}\", {\n            aa: 1\n        });\n    }, local.nop);\n    // validate err occurred\n    local.assertThrow(local._debugTryCatchError, local._debugTryCatchError);\n    onError(null, opt);\n};\n\nlocal.testCase_testReportCreate_default = function (opt, onError) {\n/*\n * this function will test testReport's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.testMock([], function (onError) {\n        // test null-case handling-behavior\n        local.testReportCreate();\n        // test testsFailed handling-behavior\n        local.testReportCreate({\n            testPlatformList: [\n                {\n                    testCaseList: [\n                        {\n                            status: \"failed\"\n                        }, {\n                            status: \"passed\"\n                        }\n                    ]\n                }\n            ]\n        });\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_throwError_default = function (opt, onError) {\n/*\n * this function will test throwError's default handling-behavior\n */\n    local.tryCatchOnError(function () {\n        local.throwError();\n    }, function (err) {\n        // validate err occurred\n        local.assertThrow(err, err);\n        onError(null, opt);\n    });\n};\n\nlocal.testCase_uiAnimateXxx_default = function (opt, onError) {\n/*\n * this function will test uiAnimateXxx's default handling-behavior\n */\n    if (!local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    opt = document.createElement(\"div\");\n    // test uiAnimateShake handling-behavior\n    local.uiAnimateShake();\n    local.uiAnimateShake(opt);\n    local.assertThrow(\n        opt.classList.contains(\"uiAnimateShake\"),\n        opt.classList\n    );\n    local.uiAnimateShake(opt);\n    local.assertThrow(\n        opt.classList.contains(\"uiAnimateShake\"),\n        opt.classList\n    );\n    // test uiAnimateShakeIfError handling-behavior\n    local.uiAnimateShakeIfError();\n    local.uiAnimateShakeIfError(null, opt);\n    local.assertThrow(\n        !opt.classList.contains(\"hasError\"),\n        opt.classList\n    );\n    local.uiAnimateShakeIfError(true, opt);\n    local.assertThrow(opt.classList.contains(\"hasError\"), opt.classList);\n    local.uiAnimateShakeIfError(null, opt);\n    local.assertThrow(!opt.classList.contains(\"hasError\"), opt.classList);\n    // test uiAnimateSlideXxx handling-behavior\n    local.uiAnimateSlideDown();\n    local.uiAnimateSlideUp();\n    opt.classList.add(\"uiAnimateSlide\");\n    local.uiAnimateSlideDown(opt);\n    local.assertThrow(\n        opt.style.maxHeight.indexOf(\"px\") >= 0,\n        opt.style.maxHeight\n    );\n    local.uiAnimateSlideUp(opt);\n    local.assertJsonEqual(opt.style.maxHeight, \"0px\");\n    // test uiAnimateSlideAccordian handling-behavior\n    local.uiAnimateSlideAccordian(\n        opt,\n        [\n            opt, document.createElement(\"div\")\n        ]\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_urlJoin_default = function (opt, onError) {\n/*\n * this function will test urlJoin's default handling-behavior\n */\n    local.assertJsonEqual(local.urlJoin(\"\", \"\"), \"/\");\n    local.assertJsonEqual(local.urlJoin(\"http://aa/bb\", \"zz\"), \"http://aa/zz\");\n    local.assertJsonEqual(\n        local.urlJoin(\"http://aa/bb/\", \"zz\"),\n        \"http://aa/bb/zz\"\n    );\n    local.assertJsonEqual(\n        local.urlJoin(\"http://aa/bb/\", \"/zz\"),\n        \"http://aa/zz\"\n    );\n    local.assertJsonEqual(local.urlJoin(\"http://aa/bb/\", \"//zz\"), \"http://zz\");\n    local.assertJsonEqual(\n        local.urlJoin(\"http://aa/bb/\", \"http://zz\"),\n        \"http://zz\"\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_urlParse_default = function (opt, onError) {\n/*\n * this function will test urlParse's default handling-behavior\n */\n    local.testMock([\n        [\n            local, {\n                // test default PORT handling-behavior\n                env: {},\n                // test init-serverLocalHost handling-behavior\n                serverLocalHost: \"\"\n            }\n        ]\n    ], function (onError) {\n        // test default handling-behavior\n        local.assertJsonEqual(local.urlParse(\n            \"https://127.0.0.1:80/foo/bar?aa=1&bb%20cc=dd%20=ee&aa=2&aa#zz=1\"\n        ), {\n            basename: \"bar\",\n            hash: \"#zz=1\",\n            host: \"127.0.0.1:80\",\n            hostname: \"127.0.0.1\",\n            href: (\n                \"https://127.0.0.1:80/foo/bar\"\n                + \"?aa=1&bb%20cc=dd%20=ee&aa=2&aa#zz=1\"\n            ),\n            path: \"/foo/bar?aa=1&bb%20cc=dd%20=ee&aa=2&aa\",\n            pathname: \"/foo/bar\",\n            port: \"80\",\n            protocol: \"https:\",\n            query: {\n                aa: [\n                    \"1\", \"2\", \"\"\n                ],\n                \"bb cc\": \"dd =ee\"\n            },\n            search: \"?aa=1&bb%20cc=dd%20=ee&aa=2&aa\"\n        });\n        // test err handling-behavior\n        local.assertJsonEqual(local.urlParse(null), {\n            basename: \"\",\n            hash: \"\",\n            host: \"\",\n            hostname: \"\",\n            href: \"\",\n            path: \"\",\n            pathname: \"\",\n            port: \"\",\n            protocol: \"\",\n            query: {},\n            search: \"\"\n        });\n        onError(null, opt);\n    }, onError);\n};\n\nlocal.testCase_uuid4Create_default = function (opt, onError) {\n/*\n * this function will test uuid4Create's default handling-behavior\n */\n    local.assertThrow(\n        local.regexpValidateUuid.test(local.uuid4Create()),\n        local.uuid4Create()\n    );\n    onError(null, opt);\n};\n\nlocal.testCase_webpage_err = function (opt, onError) {\n/*\n * this function will test webpage's err handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, opt);\n        return;\n    }\n    local.browserTest({\n        modeCoverageMerge: true,\n        modeSilent: true,\n        timeoutDefault: local.timeoutDefault - 5000,\n        // https://localhost:8080/assets.script_only.html?modeTest=1&modeTestCase=_testCase_testRunDefault_failure&timeExit=\n        url: (\n            local.serverLocalHost\n            // test script_only handling-behavior\n            + \"/assets.script_only.html\"\n            // test electron-callback handling-behavior\n            + \"?modeTest=1&\"\n            // test specific testCase handling-behavior\n            // test testRunDefault's failure handling-behavior\n            + \"modeTestCase=_testCase_testRunDefault_failure&\"\n            // test timeExit handling-behavior\n            + \"timeExit={{timeExit}}\"\n        )\n    }, function (err) {\n        // validate err occurred\n        local.assertThrow(err, err);\n        onError(null, opt);\n    });\n};\n\nlocal.utility2.serverLocalUrlTest = function (url) {\n/*\n * this function will test if the url is local\n */\n    url = local.urlParse(url).pathname;\n    return local.isBrowser && !local.env.npm_config_mode_backend && (\n        /^\\/test\\./\n    ).test(url);\n};\n}());\n\n\n\n// run shared js-env code - init-after\n(function () {\n// init assets\nlocal.assetsDict[\"/assets.swgg.swagger.json\"] = (\n    local.fsReadFileOrEmptyStringSync(\"assets.swgg.swagger.json\")\n    || local.assetsDict[\"/assets.swgg.swagger.json\"]\n    || local.assetsDict[\"/assets.swgg.swagger.petstore.json\"]\n);\n// coverage-hack - re-run test-server\nlocal.testRunServer(local);\n// coverage-hack - stateInit\nlocal.stateInit({});\n// init test-middleware\nlocal.middlewareList.push(function (req, res, next) {\n/*\n * this function will run the test-middleware\n */\n    switch (req.urlParsed.pathname) {\n    // test http POST handling-behavior\n    case \"/test.body\":\n        // test req-body-read handling-behavior\n        local.middlewareBodyRead(req, res, function () {\n            // test multiple req-body-read handling-behavior\n            local.middlewareBodyRead(req, res, function () {\n                res.write(req.bodyRaw);\n                res.end();\n            });\n        });\n        break;\n    // test http POST handling-behavior\n    case \"/test.echo\":\n        // test res-header handling-behavior\n        local.serverRespondHeadSet(req, res, null, {\n            \"X-Res-Header-Test\": \"bb\"\n        });\n        local.serverRespondEcho(req, res);\n        break;\n    // test 500-internal-server-error handling-behavior\n    case \"/test.err-500\":\n        // test multiple-callback serverRespondHeadSet handling-behavior\n        local.serverRespondHeadSet(req, res, null, {});\n        next(local.errDefault);\n        // test multiple-callback-error handling-behavior\n        next(local.errDefault);\n        // test onErrorDefault handling-behavior\n        local.testMock([\n            [\n                local, {\n                    swgg: null\n                }\n            ]\n        ], function (onError) {\n            var err;\n            err = new Error(\"error\");\n            err.statusCode = 500;\n            local.middlewareError(err, req, res);\n            onError();\n        }, local.onErrorThrow);\n        break;\n    // test undefined-status-code handling-behavior\n    case \"/test.err-undefined\":\n        local.serverRespondDefault(req, res, 999);\n        break;\n    // test timeout handling-behavior\n    case \"/test.timeout\":\n        setTimeout(function () {\n            res.end();\n        }, 2000);\n        break;\n    // serve file\n    default:\n        local.middlewareFileServer(req, res, next);\n    }\n});\n}());\n\n\n\n// run node js-env code - init-after\n/* istanbul ignore next */\n(function () {\nif (local.isBrowser) {\n    return;\n}\n\n\n\n(function () {\n    switch (local.env.HEROKU_APP_NAME) {\n    case \"h1-cron1\":\n        // heroku-keepalive\n        setInterval(function () {\n            local.ajax({\n                url: \"https://h1-cron1.herokuapp.com\"\n            }, local.onErrorThrow);\n        }, 5 * 60 * 1000);\n        local.cronJob = local.nop;\n        // update cron\n        local.ajax({\n            url: \"https://kaizhu256.github.io/node-utility2/cronJob.js\"\n        }, function (err, xhr) {\n            if (!err && xhr.responseText !== local.cronScript) {\n                local.cronScript = xhr.responseText;\n                local.vm.runInThisContext(local.cronScript);\n            }\n        });\n        setInterval(function () {\n            var cronTime;\n            cronTime = new Date();\n            if (\n                cronTime.toISOString().slice(0, 16)\n                < (local.cronTime && local.cronTime.toISOString())\n            ) {\n                return;\n            }\n            local.cronTime = cronTime;\n            // cron every 5 minutes\n            if (local.cronTime.getUTCMinutes() % 5 === 0) {\n                // update cron\n                local.ajax({\n                    url: \"https://kaizhu256.github.io/node-utility2/cronJob.js\"\n                }, function (err, xhr) {\n                    if (!err && xhr.responseText !== local.cronScript) {\n                        local.cronScript = xhr.responseText;\n                        local.vm.runInThisContext(local.cronScript);\n                    }\n                });\n            }\n            local.cronJob();\n        }, 30000);\n        break;\n    case \"h1-proxy1\":\n        // heroku-keepalive\n        setInterval(function () {\n            local.ajax({\n                url: \"https://h1-proxy1.herokuapp.com\"\n            }, local.onErrorThrow);\n        }, 5 * 60 * 1000);\n        break;\n    }\n}());\n\n\n\n// init cli\nif (module !== require.main || globalThis.utility2_rollup) {\n    return;\n}\nlocal.assetsDict[\"/assets.script_only.html\"] = (\n    \"<h1>script_only_test</h1>\\n\"\n    + \"<script src=\\\"assets.utility2.js\\\"></script>\\n\"\n    + \"<script>window.utility2_onReadyBefore.counter += 1;</script>\\n\"\n    + \"<script src=\\\"assets.example.js\\\"></script>\\n\"\n    + \"<script src=\\\"assets.test.js\\\"></script>\\n\"\n    + \"<script>window.utility2_onReadyBefore();</script>\\n\"\n);\nif (process.argv[2]) {\n    // start with coverage\n    if (local.env.npm_config_mode_coverage) {\n        process.argv.splice(1, 1, __dirname + \"/lib.istanbul.js\", \"cover\");\n        local.istanbul.cliDict[process.argv[2]]();\n        return;\n    }\n    // start\n    process.argv.splice(1, 1);\n    process.argv[1] = local.path.resolve(process.cwd(), process.argv[1]);\n    local.Module.runMain();\n}\n}());\n\n\n\n}());\n","/assets.utility2.base.html":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<!-- \"assets.utility2.template.html\" -->\n<title>utility2 (2019.8.11)</title>\n<style>\n/* jslint utility2:true */\n/*csslint\n*/\n/* csslint ignore:start */\n*,\n*:after,\n*:before {\n    box-sizing: border-box;\n}\n/* csslint ignore:end */\n@keyframes uiAnimateShake {\n0%,\n50% {\n    transform: translateX(10px);\n}\n100% {\n    transform: translateX(0);\n}\n25%,\n75% {\n    transform: translateX(-10px);\n}\n}\n@keyframes uiAnimateSpin {\n0% {\n    transform: rotate(0deg);\n}\n100% {\n    transform: rotate(360deg);\n}\n}\na {\n    overflow-wrap: break-word;\n}\nbody {\n    background: #eef;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: small;\n    margin: 0 40px;\n}\nbody > div,\nbody > form > div,\nbody > form > input,\nbody > form > pre,\nbody > form > .button,\nbody > form > .textarea,\nbody > input,\nbody > pre,\nbody > .button,\nbody > .textarea {\n    margin-bottom: 20px;\n    margin-top: 0;\n}\nbody > form > input,\nbody > form > .button,\nbody > input,\nbody > .button {\n    width: 20rem;\n}\nbody > form > .textarea,\nbody > .textarea {\n    height: 10rem;\n    width: 100%;\n}\nbody > .readonly {\n    background: #ddd;\n}\ncode,\npre,\n.textarea {\n    font-family: Consolas, Menlo, monospace;\n    font-size: smaller;\n}\npre {\n    overflow-wrap: break-word;\n    white-space: pre-wrap;\n}\n.button {\n    background-color: #fff;\n    border: 1px solid;\n    border-bottom-color: rgb(186, 186, 186);\n    border-left-color: rgb(209, 209, 209);\n    border-radius: 4px;\n    border-right-color: rgb(209, 209, 209);\n    border-top-color: rgb(216, 216, 216);\n    color: #00d;\n    cursor: pointer;\n    display: inline-block;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: normal;\n    margin: 0;\n    padding: 2px 7px 3px 7px;\n    text-align: center;\n    text-decoration: underline;\n}\n.colorError {\n    color: #d00;\n}\n.textarea {\n    background: #fff;\n    border: 1px solid #999;\n    border-radius: 0;\n    cursor: auto;\n    overflow: auto;\n    padding: 2px;\n}\n.uiAnimateShake {\n    animation-duration: 500ms;\n    animation-name: uiAnimateShake;\n}\n.uiAnimateSlide {\n    overflow-y: hidden;\n    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\n}\n.utility2FooterDiv {\n    text-align: center;\n}\n.zeroPixel {\n    border: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n    width: 0;\n}\n</style>\n</head>\n<body>\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;\"></div>\n<div class=\"uiAnimateSpin\" style=\"animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;\"></div>\n<a class=\"zeroPixel\" download=\"db.persistence.json\" href=\"\" id=\"dbExportA1\"></a>\n<input class=\"zeroPixel\" data-onevent=\"onEventDomDb\" data-onevent-db=\"dbImportInput\" type=\"file\">\n<script>\n/* jslint utility2:true */\n// init domOnEventWindowOnloadTimeElapsed\n(function () {\n/*\n * this function will measure and print time-elapsed for window.onload\n */\n    \"use strict\";\n    if (window.domOnEventWindowOnloadTimeElapsed) {\n        return;\n    }\n    window.domOnEventWindowOnloadTimeElapsed = Date.now() + 100;\n    window.addEventListener(\"load\", function () {\n        setTimeout(function () {\n            window.domOnEventWindowOnloadTimeElapsed = (\n                Date.now()\n                - window.domOnEventWindowOnloadTimeElapsed\n            );\n            console.error(\n                \"domOnEventWindowOnloadTimeElapsed = \"\n                + window.domOnEventWindowOnloadTimeElapsed\n            );\n        }, 100);\n    });\n}());\n\n\n\n// init domOnEventDelegateDict\n(function () {\n/*\n * this function will handle delegated dom-event\n */\n    \"use strict\";\n    var timerTimeoutDict;\n    if (window.domOnEventDelegateDict) {\n        return;\n    }\n    window.domOnEventDelegateDict = {};\n    timerTimeoutDict = {};\n    window.domOnEventDelegateDict.domOnEventDelegate = function (evt) {\n        evt.targetOnEvent = evt.target.closest(\n            \"[data-onevent]\"\n        );\n        if (\n            !evt.targetOnEvent\n            || evt.targetOnEvent.dataset.onevent === \"domOnEventNop\"\n            || evt.target.closest(\n                \".disabled, .readonly\"\n            )\n        ) {\n            return;\n        }\n        // rate-limit high-frequency-event\n        switch (evt.type) {\n        case \"keydown\":\n        case \"keyup\":\n            // filter non-input keyboard-event\n            if (!evt.target.closest(\n                \"input, option, select, textarea\"\n            )) {\n                return;\n            }\n            if (timerTimeoutDict[evt.type] !== true) {\n                timerTimeoutDict[evt.type] = timerTimeoutDict[\n                    evt.type\n                ] || setTimeout(function () {\n                    timerTimeoutDict[evt.type] = true;\n                    window.domOnEventDelegateDict.domOnEventDelegate(evt);\n                }, 50);\n                return;\n            }\n            timerTimeoutDict[evt.type] = null;\n            break;\n        }\n        switch (evt.targetOnEvent.tagName) {\n        case \"BUTTON\":\n        case \"FORM\":\n            evt.preventDefault();\n            break;\n        }\n        evt.stopPropagation();\n        window.domOnEventDelegateDict[evt.targetOnEvent.dataset.onevent](\n            evt\n        );\n    };\n    window.domOnEventDelegateDict.domOnEventResetOutput = function () {\n        Array.from(document.querySelectorAll(\n            \".onevent-reset-output\"\n        )).forEach(function (elem) {\n            switch (elem.tagName) {\n            case \"INPUT\":\n            case \"TEXTAREA\":\n                elem.value = \"\";\n                break;\n            case \"PRE\":\n                elem.textContent = \"\";\n                break;\n            default:\n                elem.innerHTML = \"\";\n            }\n        });\n    };\n    // init event-handling\n    [\n        \"change\",\n        \"click\",\n        \"keydown\",\n        \"submit\"\n    ].forEach(function (eventType) {\n        document.addEventListener(\n            eventType,\n            window.domOnEventDelegateDict.domOnEventDelegate\n        );\n    });\n}());\n\n\n\n// init timerIntervalAjaxProgressUpdate\n(function () {\n/*\n * this function will increment ajax-progress-bar\n * until webpage has loaded\n */\n    \"use strict\";\n    var ajaxProgressDiv1;\n    var ajaxProgressState;\n    var ajaxProgressUpdate;\n    if (\n        window.timerIntervalAjaxProgressUpdate\n        || !document.querySelector(\n            \"#ajaxProgressDiv1\"\n        )\n    ) {\n        return;\n    }\n    ajaxProgressDiv1 = document.querySelector(\n        \"#ajaxProgressDiv1\"\n    );\n    setTimeout(function () {\n        ajaxProgressDiv1.style.width = \"25%\";\n    });\n    ajaxProgressState = 0;\n    ajaxProgressUpdate = (\n        window.local\n        && window.local.ajaxProgressUpdate\n    ) || function () {\n        ajaxProgressDiv1.style.width = \"100%\";\n        setTimeout(function () {\n            ajaxProgressDiv1.style.background = \"transparent\";\n            setTimeout(function () {\n                ajaxProgressDiv1.style.width = \"0%\";\n            }, 500);\n        }, 1000);\n    };\n    window.timerIntervalAjaxProgressUpdate = setInterval(function () {\n        ajaxProgressState += 1;\n        ajaxProgressDiv1.style.width = Math.max(\n            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\n            ajaxProgressDiv1.style.width.slice(0, -1) | 0\n        ) + \"%\";\n    }, 1000);\n    window.addEventListener(\"load\", function () {\n        clearInterval(window.timerIntervalAjaxProgressUpdate);\n        ajaxProgressUpdate();\n    });\n}());\n\n\n\n// init domOnEventSelectAllWithinPre\n(function () {\n/*\n * this function will limit select-all within <pre tabIndex=\"0\"> elements\n * https://stackoverflow.com/questions/985272/selecting-text-in-an-element-akin-to-highlighting-with-your-mouse\n */\n    \"use strict\";\n    if (window.domOnEventSelectAllWithinPre) {\n        return;\n    }\n    window.domOnEventSelectAllWithinPre = function (evt) {\n        var range;\n        var selection;\n        if (\n            evt\n            && evt.key === \"a\"\n            && (evt.ctrlKey || evt.metaKey)\n            && evt.target.closest(\n                \"pre\"\n            )\n        ) {\n            range = document.createRange();\n            range.selectNodeContents(evt.target.closest(\n                \"pre\"\n            ));\n            selection = window.getSelection();\n            selection.removeAllRanges();\n            selection.addRange(range);\n            evt.preventDefault();\n        }\n    };\n    // init event-handling\n    document.addEventListener(\n        \"keydown\",\n        window.domOnEventSelectAllWithinPre\n    );\n}());\n</script>\n<h1>\n\n    <a\n        \n        href=\"https://github.com/kaizhu256/node-utility2\"\n        \n        target=\"_blank\"\n    >\n\n        utility2 (2019.8.11)\n\n    </a>\n\n</h1>\n<h3>this zero-dependency package will provide a collection of high-level functions to to build, test, and deploy webapps</h3>\n\n<a class=\"button\" download href=\"assets.app.js\">download standalone app</a><br>\n<button class=\"button\" data-onevent=\"testRunBrowser\" data-onevent-reset-output=\"1\" id=\"testRunButton1\">run internal test</button><br>\n<div class=\"uiAnimateSlide\" id=\"testReportDiv1\" style=\"border-bottom: 0; border-top: 0; margin-bottom: 0; margin-top: 0; max-height: 0; padding-bottom: 0; padding-top: 0;\"></div>\n\n\n\n\n<label>stderr and stdout</label>\n<pre class=\"onevent-reset-output readonly textarea\" id=\"outputStdout1\" tabIndex=\"0\"></pre>\n\n\n<script src=\"assets.app.js\"></script>\n\n\n<div class=\"utility2FooterDiv\">\n    [ this app was created with\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\n    ]\n</div>\n</body>\n</html>\n","/index.rollup.html":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<!-- \"assets.utility2.template.html\" -->\n<title>utility2 (2019.8.11)</title>\n<style>\n/* jslint utility2:true */\n/*csslint\n*/\n/* csslint ignore:start */\n*,\n*:after,\n*:before {\n    box-sizing: border-box;\n}\n/* csslint ignore:end */\n@keyframes uiAnimateShake {\n0%,\n50% {\n    transform: translateX(10px);\n}\n100% {\n    transform: translateX(0);\n}\n25%,\n75% {\n    transform: translateX(-10px);\n}\n}\n@keyframes uiAnimateSpin {\n0% {\n    transform: rotate(0deg);\n}\n100% {\n    transform: rotate(360deg);\n}\n}\na {\n    overflow-wrap: break-word;\n}\nbody {\n    background: #eef;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: small;\n    margin: 0 40px;\n}\nbody > div,\nbody > form > div,\nbody > form > input,\nbody > form > pre,\nbody > form > .button,\nbody > form > .textarea,\nbody > input,\nbody > pre,\nbody > .button,\nbody > .textarea {\n    margin-bottom: 20px;\n    margin-top: 0;\n}\nbody > form > input,\nbody > form > .button,\nbody > input,\nbody > .button {\n    width: 20rem;\n}\nbody > form > .textarea,\nbody > .textarea {\n    height: 10rem;\n    width: 100%;\n}\nbody > .readonly {\n    background: #ddd;\n}\ncode,\npre,\n.textarea {\n    font-family: Consolas, Menlo, monospace;\n    font-size: smaller;\n}\npre {\n    overflow-wrap: break-word;\n    white-space: pre-wrap;\n}\n.button {\n    background-color: #fff;\n    border: 1px solid;\n    border-bottom-color: rgb(186, 186, 186);\n    border-left-color: rgb(209, 209, 209);\n    border-radius: 4px;\n    border-right-color: rgb(209, 209, 209);\n    border-top-color: rgb(216, 216, 216);\n    color: #00d;\n    cursor: pointer;\n    display: inline-block;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: normal;\n    margin: 0;\n    padding: 2px 7px 3px 7px;\n    text-align: center;\n    text-decoration: underline;\n}\n.colorError {\n    color: #d00;\n}\n.textarea {\n    background: #fff;\n    border: 1px solid #999;\n    border-radius: 0;\n    cursor: auto;\n    overflow: auto;\n    padding: 2px;\n}\n.uiAnimateShake {\n    animation-duration: 500ms;\n    animation-name: uiAnimateShake;\n}\n.uiAnimateSlide {\n    overflow-y: hidden;\n    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\n}\n.utility2FooterDiv {\n    text-align: center;\n}\n.zeroPixel {\n    border: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n    width: 0;\n}\n</style>\n</head>\n<body>\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;\"></div>\n<div class=\"uiAnimateSpin\" style=\"animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;\"></div>\n<a class=\"zeroPixel\" download=\"db.persistence.json\" href=\"\" id=\"dbExportA1\"></a>\n<input class=\"zeroPixel\" data-onevent=\"onEventDomDb\" data-onevent-db=\"dbImportInput\" type=\"file\">\n<script>\n/* jslint utility2:true */\n// init domOnEventWindowOnloadTimeElapsed\n(function () {\n/*\n * this function will measure and print time-elapsed for window.onload\n */\n    \"use strict\";\n    if (window.domOnEventWindowOnloadTimeElapsed) {\n        return;\n    }\n    window.domOnEventWindowOnloadTimeElapsed = Date.now() + 100;\n    window.addEventListener(\"load\", function () {\n        setTimeout(function () {\n            window.domOnEventWindowOnloadTimeElapsed = (\n                Date.now()\n                - window.domOnEventWindowOnloadTimeElapsed\n            );\n            console.error(\n                \"domOnEventWindowOnloadTimeElapsed = \"\n                + window.domOnEventWindowOnloadTimeElapsed\n            );\n        }, 100);\n    });\n}());\n\n\n\n// init domOnEventDelegateDict\n(function () {\n/*\n * this function will handle delegated dom-event\n */\n    \"use strict\";\n    var timerTimeoutDict;\n    if (window.domOnEventDelegateDict) {\n        return;\n    }\n    window.domOnEventDelegateDict = {};\n    timerTimeoutDict = {};\n    window.domOnEventDelegateDict.domOnEventDelegate = function (evt) {\n        evt.targetOnEvent = evt.target.closest(\n            \"[data-onevent]\"\n        );\n        if (\n            !evt.targetOnEvent\n            || evt.targetOnEvent.dataset.onevent === \"domOnEventNop\"\n            || evt.target.closest(\n                \".disabled, .readonly\"\n            )\n        ) {\n            return;\n        }\n        // rate-limit high-frequency-event\n        switch (evt.type) {\n        case \"keydown\":\n        case \"keyup\":\n            // filter non-input keyboard-event\n            if (!evt.target.closest(\n                \"input, option, select, textarea\"\n            )) {\n                return;\n            }\n            if (timerTimeoutDict[evt.type] !== true) {\n                timerTimeoutDict[evt.type] = timerTimeoutDict[\n                    evt.type\n                ] || setTimeout(function () {\n                    timerTimeoutDict[evt.type] = true;\n                    window.domOnEventDelegateDict.domOnEventDelegate(evt);\n                }, 50);\n                return;\n            }\n            timerTimeoutDict[evt.type] = null;\n            break;\n        }\n        switch (evt.targetOnEvent.tagName) {\n        case \"BUTTON\":\n        case \"FORM\":\n            evt.preventDefault();\n            break;\n        }\n        evt.stopPropagation();\n        window.domOnEventDelegateDict[evt.targetOnEvent.dataset.onevent](\n            evt\n        );\n    };\n    window.domOnEventDelegateDict.domOnEventResetOutput = function () {\n        Array.from(document.querySelectorAll(\n            \".onevent-reset-output\"\n        )).forEach(function (elem) {\n            switch (elem.tagName) {\n            case \"INPUT\":\n            case \"TEXTAREA\":\n                elem.value = \"\";\n                break;\n            case \"PRE\":\n                elem.textContent = \"\";\n                break;\n            default:\n                elem.innerHTML = \"\";\n            }\n        });\n    };\n    // init event-handling\n    [\n        \"change\",\n        \"click\",\n        \"keydown\",\n        \"submit\"\n    ].forEach(function (eventType) {\n        document.addEventListener(\n            eventType,\n            window.domOnEventDelegateDict.domOnEventDelegate\n        );\n    });\n}());\n\n\n\n// init timerIntervalAjaxProgressUpdate\n(function () {\n/*\n * this function will increment ajax-progress-bar\n * until webpage has loaded\n */\n    \"use strict\";\n    var ajaxProgressDiv1;\n    var ajaxProgressState;\n    var ajaxProgressUpdate;\n    if (\n        window.timerIntervalAjaxProgressUpdate\n        || !document.querySelector(\n            \"#ajaxProgressDiv1\"\n        )\n    ) {\n        return;\n    }\n    ajaxProgressDiv1 = document.querySelector(\n        \"#ajaxProgressDiv1\"\n    );\n    setTimeout(function () {\n        ajaxProgressDiv1.style.width = \"25%\";\n    });\n    ajaxProgressState = 0;\n    ajaxProgressUpdate = (\n        window.local\n        && window.local.ajaxProgressUpdate\n    ) || function () {\n        ajaxProgressDiv1.style.width = \"100%\";\n        setTimeout(function () {\n            ajaxProgressDiv1.style.background = \"transparent\";\n            setTimeout(function () {\n                ajaxProgressDiv1.style.width = \"0%\";\n            }, 500);\n        }, 1000);\n    };\n    window.timerIntervalAjaxProgressUpdate = setInterval(function () {\n        ajaxProgressState += 1;\n        ajaxProgressDiv1.style.width = Math.max(\n            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\n            ajaxProgressDiv1.style.width.slice(0, -1) | 0\n        ) + \"%\";\n    }, 1000);\n    window.addEventListener(\"load\", function () {\n        clearInterval(window.timerIntervalAjaxProgressUpdate);\n        ajaxProgressUpdate();\n    });\n}());\n\n\n\n// init domOnEventSelectAllWithinPre\n(function () {\n/*\n * this function will limit select-all within <pre tabIndex=\"0\"> elements\n * https://stackoverflow.com/questions/985272/selecting-text-in-an-element-akin-to-highlighting-with-your-mouse\n */\n    \"use strict\";\n    if (window.domOnEventSelectAllWithinPre) {\n        return;\n    }\n    window.domOnEventSelectAllWithinPre = function (evt) {\n        var range;\n        var selection;\n        if (\n            evt\n            && evt.key === \"a\"\n            && (evt.ctrlKey || evt.metaKey)\n            && evt.target.closest(\n                \"pre\"\n            )\n        ) {\n            range = document.createRange();\n            range.selectNodeContents(evt.target.closest(\n                \"pre\"\n            ));\n            selection = window.getSelection();\n            selection.removeAllRanges();\n            selection.addRange(range);\n            evt.preventDefault();\n        }\n    };\n    // init event-handling\n    document.addEventListener(\n        \"keydown\",\n        window.domOnEventSelectAllWithinPre\n    );\n}());\n</script>\n<h1>\n\n    <a\n        \n        href=\"https://github.com/kaizhu256/node-utility2\"\n        \n        target=\"_blank\"\n    >\n\n        utility2 (2019.8.11)\n\n    </a>\n\n</h1>\n<h3>this zero-dependency package will provide a collection of high-level functions to to build, test, and deploy webapps</h3>\n\n<a class=\"button\" download href=\"assets.app.js\">download standalone app</a><br>\n<button class=\"button\" data-onevent=\"testRunBrowser\" id=\"testRunButton1\">run internal test</button><br>\n\n\n\n\n<label>edit or paste script below to cover and test</label>\n<textarea class=\"textarea\" data-onevent=\"testRunBrowser\" id=\"inputEval1\">\n// remove comment below to disable jslint\n/*jslint browser, devel*/\n/*global window*/\n(function () {\n    \"use strict\";\n    var testCaseDict;\n    testCaseDict = {};\n    testCaseDict.modeTest = 1;\n\n    // comment this testCase to disable failed error demo\n    testCaseDict.testCase_failed_error_demo = function (opt, onError) {\n    /*\n     * this function will run a failed error demo\n     */\n        // jslint-hack\n        window.utility2.nop(opt);\n        onError(new Error(\"this is a failed error demo\"));\n    };\n\n    testCaseDict.testCase_passed_ajax_demo = function (opt, onError) {\n    /*\n     * this function will demo a passed ajax test\n     */\n        var data;\n        opt = {url: \"/\"};\n        // test ajax-req for main-page \"/\"\n        window.utility2.ajax(opt, function (err, xhr) {\n            try {\n                // validate no err occurred\n                console.assert(!err, err);\n                // validate \"200 ok\" status\n                console.assert(xhr.statusCode === 200, xhr.statusCode);\n                // validate non-empty data\n                data = xhr.responseText;\n                console.assert(data && data.length > 0, data);\n                onError();\n            } catch (errorCaught) {\n                onError(errorCaught);\n            }\n        });\n    };\n\n    window.utility2.testRunDefault(testCaseDict);\n}());\n</textarea>\n<button class=\"button\" data-onevent=\"testRunBrowser\" id=\"jslintAutofixButton1\">jslint autofix</button><br>\n<pre class= \"colorError\" id=\"outputJslintPre1\" tabindex=\"0\"></pre>\n<label>instrumented-code</label>\n<pre class=\"readonly textarea\" id=\"outputCode1\" tabindex=\"0\"></pre>\n<label>stderr and stdout</label>\n<pre class=\"onevent-reset-output readonly textarea\" id=\"outputStdout1\" tabindex=\"0\"></pre>\n<div id=\"testReportDiv1\"></div>\n<div id=\"coverageReportDiv1\"></div>\n\n\n<script src=\"assets.app.js\"></script>\n\n\n<div class=\"utility2FooterDiv\">\n    [ this app was created with\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\n    ]\n</div>\n</body>\n</html>\n","/":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<!-- \"assets.utility2.template.html\" -->\n<title>utility2 (2019.8.11)</title>\n<style>\n/* jslint utility2:true */\n/*csslint\n*/\n/* csslint ignore:start */\n*,\n*:after,\n*:before {\n    box-sizing: border-box;\n}\n/* csslint ignore:end */\n@keyframes uiAnimateShake {\n0%,\n50% {\n    transform: translateX(10px);\n}\n100% {\n    transform: translateX(0);\n}\n25%,\n75% {\n    transform: translateX(-10px);\n}\n}\n@keyframes uiAnimateSpin {\n0% {\n    transform: rotate(0deg);\n}\n100% {\n    transform: rotate(360deg);\n}\n}\na {\n    overflow-wrap: break-word;\n}\nbody {\n    background: #eef;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: small;\n    margin: 0 40px;\n}\nbody > div,\nbody > form > div,\nbody > form > input,\nbody > form > pre,\nbody > form > .button,\nbody > form > .textarea,\nbody > input,\nbody > pre,\nbody > .button,\nbody > .textarea {\n    margin-bottom: 20px;\n    margin-top: 0;\n}\nbody > form > input,\nbody > form > .button,\nbody > input,\nbody > .button {\n    width: 20rem;\n}\nbody > form > .textarea,\nbody > .textarea {\n    height: 10rem;\n    width: 100%;\n}\nbody > .readonly {\n    background: #ddd;\n}\ncode,\npre,\n.textarea {\n    font-family: Consolas, Menlo, monospace;\n    font-size: smaller;\n}\npre {\n    overflow-wrap: break-word;\n    white-space: pre-wrap;\n}\n.button {\n    background-color: #fff;\n    border: 1px solid;\n    border-bottom-color: rgb(186, 186, 186);\n    border-left-color: rgb(209, 209, 209);\n    border-radius: 4px;\n    border-right-color: rgb(209, 209, 209);\n    border-top-color: rgb(216, 216, 216);\n    color: #00d;\n    cursor: pointer;\n    display: inline-block;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: normal;\n    margin: 0;\n    padding: 2px 7px 3px 7px;\n    text-align: center;\n    text-decoration: underline;\n}\n.colorError {\n    color: #d00;\n}\n.textarea {\n    background: #fff;\n    border: 1px solid #999;\n    border-radius: 0;\n    cursor: auto;\n    overflow: auto;\n    padding: 2px;\n}\n.uiAnimateShake {\n    animation-duration: 500ms;\n    animation-name: uiAnimateShake;\n}\n.uiAnimateSlide {\n    overflow-y: hidden;\n    transition: max-height ease-in 250ms, min-height ease-in 250ms, padding-bottom ease-in 250ms, padding-top ease-in 250ms;\n}\n.utility2FooterDiv {\n    text-align: center;\n}\n.zeroPixel {\n    border: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n    width: 0;\n}\n</style>\n</head>\n<body>\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 500ms, width 1500ms; width: 0%; z-index: 1;\"></div>\n<div class=\"uiAnimateSpin\" style=\"animation: uiAnimateSpin 2s linear infinite; border: 5px solid #999; border-radius: 50%; border-top: 5px solid #7d7; display: none; height: 25px; vertical-align: middle; width: 25px;\"></div>\n<a class=\"zeroPixel\" download=\"db.persistence.json\" href=\"\" id=\"dbExportA1\"></a>\n<input class=\"zeroPixel\" data-onevent=\"onEventDomDb\" data-onevent-db=\"dbImportInput\" type=\"file\">\n<script>\n/* jslint utility2:true */\n// init domOnEventWindowOnloadTimeElapsed\n(function () {\n/*\n * this function will measure and print time-elapsed for window.onload\n */\n    \"use strict\";\n    if (window.domOnEventWindowOnloadTimeElapsed) {\n        return;\n    }\n    window.domOnEventWindowOnloadTimeElapsed = Date.now() + 100;\n    window.addEventListener(\"load\", function () {\n        setTimeout(function () {\n            window.domOnEventWindowOnloadTimeElapsed = (\n                Date.now()\n                - window.domOnEventWindowOnloadTimeElapsed\n            );\n            console.error(\n                \"domOnEventWindowOnloadTimeElapsed = \"\n                + window.domOnEventWindowOnloadTimeElapsed\n            );\n        }, 100);\n    });\n}());\n\n\n\n// init domOnEventDelegateDict\n(function () {\n/*\n * this function will handle delegated dom-event\n */\n    \"use strict\";\n    var timerTimeoutDict;\n    if (window.domOnEventDelegateDict) {\n        return;\n    }\n    window.domOnEventDelegateDict = {};\n    timerTimeoutDict = {};\n    window.domOnEventDelegateDict.domOnEventDelegate = function (evt) {\n        evt.targetOnEvent = evt.target.closest(\n            \"[data-onevent]\"\n        );\n        if (\n            !evt.targetOnEvent\n            || evt.targetOnEvent.dataset.onevent === \"domOnEventNop\"\n            || evt.target.closest(\n                \".disabled, .readonly\"\n            )\n        ) {\n            return;\n        }\n        // rate-limit high-frequency-event\n        switch (evt.type) {\n        case \"keydown\":\n        case \"keyup\":\n            // filter non-input keyboard-event\n            if (!evt.target.closest(\n                \"input, option, select, textarea\"\n            )) {\n                return;\n            }\n            if (timerTimeoutDict[evt.type] !== true) {\n                timerTimeoutDict[evt.type] = timerTimeoutDict[\n                    evt.type\n                ] || setTimeout(function () {\n                    timerTimeoutDict[evt.type] = true;\n                    window.domOnEventDelegateDict.domOnEventDelegate(evt);\n                }, 50);\n                return;\n            }\n            timerTimeoutDict[evt.type] = null;\n            break;\n        }\n        switch (evt.targetOnEvent.tagName) {\n        case \"BUTTON\":\n        case \"FORM\":\n            evt.preventDefault();\n            break;\n        }\n        evt.stopPropagation();\n        window.domOnEventDelegateDict[evt.targetOnEvent.dataset.onevent](\n            evt\n        );\n    };\n    window.domOnEventDelegateDict.domOnEventResetOutput = function () {\n        Array.from(document.querySelectorAll(\n            \".onevent-reset-output\"\n        )).forEach(function (elem) {\n            switch (elem.tagName) {\n            case \"INPUT\":\n            case \"TEXTAREA\":\n                elem.value = \"\";\n                break;\n            case \"PRE\":\n                elem.textContent = \"\";\n                break;\n            default:\n                elem.innerHTML = \"\";\n            }\n        });\n    };\n    // init event-handling\n    [\n        \"change\",\n        \"click\",\n        \"keydown\",\n        \"submit\"\n    ].forEach(function (eventType) {\n        document.addEventListener(\n            eventType,\n            window.domOnEventDelegateDict.domOnEventDelegate\n        );\n    });\n}());\n\n\n\n// init timerIntervalAjaxProgressUpdate\n(function () {\n/*\n * this function will increment ajax-progress-bar\n * until webpage has loaded\n */\n    \"use strict\";\n    var ajaxProgressDiv1;\n    var ajaxProgressState;\n    var ajaxProgressUpdate;\n    if (\n        window.timerIntervalAjaxProgressUpdate\n        || !document.querySelector(\n            \"#ajaxProgressDiv1\"\n        )\n    ) {\n        return;\n    }\n    ajaxProgressDiv1 = document.querySelector(\n        \"#ajaxProgressDiv1\"\n    );\n    setTimeout(function () {\n        ajaxProgressDiv1.style.width = \"25%\";\n    });\n    ajaxProgressState = 0;\n    ajaxProgressUpdate = (\n        window.local\n        && window.local.ajaxProgressUpdate\n    ) || function () {\n        ajaxProgressDiv1.style.width = \"100%\";\n        setTimeout(function () {\n            ajaxProgressDiv1.style.background = \"transparent\";\n            setTimeout(function () {\n                ajaxProgressDiv1.style.width = \"0%\";\n            }, 500);\n        }, 1000);\n    };\n    window.timerIntervalAjaxProgressUpdate = setInterval(function () {\n        ajaxProgressState += 1;\n        ajaxProgressDiv1.style.width = Math.max(\n            100 - 75 * Math.exp(-0.125 * ajaxProgressState),\n            ajaxProgressDiv1.style.width.slice(0, -1) | 0\n        ) + \"%\";\n    }, 1000);\n    window.addEventListener(\"load\", function () {\n        clearInterval(window.timerIntervalAjaxProgressUpdate);\n        ajaxProgressUpdate();\n    });\n}());\n\n\n\n// init domOnEventSelectAllWithinPre\n(function () {\n/*\n * this function will limit select-all within <pre tabIndex=\"0\"> elements\n * https://stackoverflow.com/questions/985272/selecting-text-in-an-element-akin-to-highlighting-with-your-mouse\n */\n    \"use strict\";\n    if (window.domOnEventSelectAllWithinPre) {\n        return;\n    }\n    window.domOnEventSelectAllWithinPre = function (evt) {\n        var range;\n        var selection;\n        if (\n            evt\n            && evt.key === \"a\"\n            && (evt.ctrlKey || evt.metaKey)\n            && evt.target.closest(\n                \"pre\"\n            )\n        ) {\n            range = document.createRange();\n            range.selectNodeContents(evt.target.closest(\n                \"pre\"\n            ));\n            selection = window.getSelection();\n            selection.removeAllRanges();\n            selection.addRange(range);\n            evt.preventDefault();\n        }\n    };\n    // init event-handling\n    document.addEventListener(\n        \"keydown\",\n        window.domOnEventSelectAllWithinPre\n    );\n}());\n</script>\n<h1>\n\n    <a\n        \n        href=\"https://github.com/kaizhu256/node-utility2\"\n        \n        target=\"_blank\"\n    >\n\n        utility2 (2019.8.11)\n\n    </a>\n\n</h1>\n<h3>this zero-dependency package will provide a collection of high-level functions to to build, test, and deploy webapps</h3>\n\n<a class=\"button\" download href=\"assets.app.js\">download standalone app</a><br>\n<button class=\"button\" data-onevent=\"testRunBrowser\" id=\"testRunButton1\">run internal test</button><br>\n\n\n\n\n<label>edit or paste script below to cover and test</label>\n<textarea class=\"textarea\" data-onevent=\"testRunBrowser\" id=\"inputEval1\">\n// remove comment below to disable jslint\n/*jslint browser, devel*/\n/*global window*/\n(function () {\n    \"use strict\";\n    var testCaseDict;\n    testCaseDict = {};\n    testCaseDict.modeTest = 1;\n\n    // comment this testCase to disable failed error demo\n    testCaseDict.testCase_failed_error_demo = function (opt, onError) {\n    /*\n     * this function will run a failed error demo\n     */\n        // jslint-hack\n        window.utility2.nop(opt);\n        onError(new Error(\"this is a failed error demo\"));\n    };\n\n    testCaseDict.testCase_passed_ajax_demo = function (opt, onError) {\n    /*\n     * this function will demo a passed ajax test\n     */\n        var data;\n        opt = {url: \"/\"};\n        // test ajax-req for main-page \"/\"\n        window.utility2.ajax(opt, function (err, xhr) {\n            try {\n                // validate no err occurred\n                console.assert(!err, err);\n                // validate \"200 ok\" status\n                console.assert(xhr.statusCode === 200, xhr.statusCode);\n                // validate non-empty data\n                data = xhr.responseText;\n                console.assert(data && data.length > 0, data);\n                onError();\n            } catch (errorCaught) {\n                onError(errorCaught);\n            }\n        });\n    };\n\n    window.utility2.testRunDefault(testCaseDict);\n}());\n</textarea>\n<button class=\"button\" data-onevent=\"testRunBrowser\" id=\"jslintAutofixButton1\">jslint autofix</button><br>\n<pre class= \"colorError\" id=\"outputJslintPre1\" tabindex=\"0\"></pre>\n<label>instrumented-code</label>\n<pre class=\"readonly textarea\" id=\"outputCode1\" tabindex=\"0\"></pre>\n<label>stderr and stdout</label>\n<pre class=\"onevent-reset-output readonly textarea\" id=\"outputStdout1\" tabindex=\"0\"></pre>\n<div id=\"testReportDiv1\"></div>\n<div id=\"coverageReportDiv1\"></div>\n\n\n\n<script src=\"assets.utility2.lib.istanbul.js\"></script>\n<script src=\"assets.utility2.lib.jslint.js\"></script>\n<script src=\"assets.utility2.lib.db.js\"></script>\n<script src=\"assets.utility2.lib.marked.js\"></script>\n<script src=\"assets.utility2.lib.sjcl.js\"></script>\n<script src=\"assets.utility2.js\"></script>\n<script>window.utility2_onReadyBefore.counter += 1;</script>\n<script src=\"jsonp.utility2.stateInit?callback=window.utility2.stateInit\"></script>\n<script src=\"assets.example.js\"></script>\n<script src=\"assets.test.js\"></script>\n<script>window.utility2_onReadyBefore();</script>\n\n\n\n<div class=\"utility2FooterDiv\">\n    [ this app was created with\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\n    ]\n</div>\n</body>\n</html>\n"},"env":{"NODE_ENV":"test","npm_package_description":"this zero-dependency package will provide a collection of high-level functions to to build, test, and deploy webapps","npm_package_homepage":"https://github.com/kaizhu256/node-utility2","npm_package_name":"utility2","npm_package_nameLib":"utility2","npm_package_version":"2019.8.11"}}});